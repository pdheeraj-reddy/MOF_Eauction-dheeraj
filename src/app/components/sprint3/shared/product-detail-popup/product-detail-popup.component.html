<div class="d-flex m-2" style="justify-content: space-between" [ngStyle]="{ direction: textDir }">
    <p class="text-success text-24 font-weight-bold mt-3"> &nbsp;&nbsp;&nbsp;{{
        "auctioncreate.auctionproduct.section1_Title" | translate }} </p>
    <button style="outline: none" (click)="closeDialog()" type="button" class="close" data-dismiss="dropdown"
        aria-label="Close">
        <a class="btn btn-ghost btn-md fill-primary-green">
            <span class="icon-close"></span>
        </a>
    </button>
</div>
<div class="row m-2" [ngStyle]="{ direction: textDir }">

    <div class="col-md-6 mt-4">
        <div class="col-md-12" *ngIf="showLoader">
            <div class="form-row">
                <div class="col-12">
                    <div class="alert-body text-center">
                        <i class="alert-icon">
                            <svg class="et-spinner" width="64" height="64" xmlns="http://www.w3.org/2000/svg">
                                <g fill-rule="nonzero" fill="#32AD71">
                                    <path
                                        d="M32 11.871c-1.755 0-3.097-1.342-3.097-3.097V3.097C28.903 1.342 30.245 0 32 0s3.097 1.342 3.097 3.097v5.677c0 1.652-1.342 3.097-3.097 3.097z" />
                                    <path
                                        d="M32 64c-1.755 0-3.097-1.342-3.097-3.097v-5.677c0-1.755 1.342-3.097 3.097-3.097s3.097 1.342 3.097 3.097v5.677C35.097 62.658 33.755 64 32 64z"
                                        opacity=".4" />
                                    <path
                                        d="M46.452 60.077c-1.033 0-2.065-.516-2.684-1.548l-2.787-4.852c-.826-1.445-.31-3.406 1.135-4.232 1.445-.826 3.407-.31 4.232 1.136l2.787 4.851c.826 1.445.31 3.407-1.135 4.233a2.913 2.913 0 01-1.548.412z"
                                        opacity=".5" />
                                    <path
                                        d="M11.871 23.432a2.913 2.913 0 01-1.548-.413L5.47 20.232C4.026 19.406 3.51 17.445 4.335 16c.826-1.445 2.788-1.961 4.233-1.135l4.851 2.787c1.446.825 1.962 2.787 1.136 4.232-.62 1.032-1.652 1.548-2.684 1.548z"
                                        opacity=".05" />
                                    <path
                                        d="M57.084 49.548a2.913 2.913 0 01-1.549-.413l-4.954-2.787c-1.446-.825-1.962-2.787-1.136-4.232.826-1.445 2.787-1.961 4.232-1.135l4.852 2.787c1.445.826 1.961 2.787 1.136 4.232-.517 1.032-1.549 1.548-2.581 1.548z"
                                        opacity=".6" />
                                    <path
                                        d="M8.774 35.097H3.097C1.342 35.097 0 33.755 0 32s1.342-3.097 3.097-3.097h5.677c1.755 0 3.097 1.342 3.097 3.097s-1.445 3.097-3.097 3.097z"
                                        opacity=".1" />
                                    <path
                                        d="M60.903 35.097h-5.677c-1.755 0-3.097-1.342-3.097-3.097s1.342-3.097 3.097-3.097h5.677C62.658 28.903 64 30.245 64 32s-1.342 3.097-3.097 3.097z"
                                        opacity=".7" />
                                    <path
                                        d="M6.916 49.548c-1.032 0-2.064-.516-2.684-1.548-.826-1.445-.31-3.406 1.136-4.232l4.851-2.787c1.446-.826 3.407-.31 4.233 1.135.825 1.445.31 3.407-1.136 4.232l-4.851 2.787c-.413.31-.93.413-1.549.413z"
                                        opacity=".2" />
                                    <path
                                        d="M52.129 23.432c-1.032 0-2.064-.516-2.684-1.548-.826-1.445-.31-3.407 1.136-4.232l4.851-2.787c1.445-.826 3.407-.31 4.233 1.135.825 1.445.31 3.406-1.136 4.232l-4.852 2.787a2.913 2.913 0 01-1.548.413z"
                                        opacity=".8" />
                                    <path
                                        d="M17.548 60.077A2.913 2.913 0 0116 59.665c-1.445-.826-1.961-2.788-1.135-4.233l2.787-4.851c.825-1.446 2.787-1.962 4.232-1.136 1.445.826 1.961 2.787 1.135 4.232l-2.787 4.852c-.62 1.032-1.651 1.548-2.684 1.548z"
                                        opacity=".3" />
                                    <path
                                        d="M43.665 14.968a2.913 2.913 0 01-1.549-.413c-1.445-.826-1.961-2.787-1.135-4.232l2.787-4.852C44.594 4.026 46.555 3.51 48 4.335c1.445.826 1.961 2.788 1.135 4.233l-2.787 4.851c-.619.93-1.651 1.549-2.683 1.549z"
                                        opacity=".9" />
                                </g>
                            </svg>
                        </i>
                        <div class="alert-content">
                            <h5 class="text-black-50">Loading</h5>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div>
            <!-- <img [src]="fullImage" class="img-fluid" alt="No Images to show" /> -->
            <!-- <div *ngIf="fullImage"> -->
            <img *ngIf="fullImage?.type == 'image/jpeg' || fullImage?.type == 'image/png'" class="img-fluid bg-dark"
                [src]="fullImage?.src" />
            <div style="min-height:450px"
                *ngIf="(fullImage?.type =='video/mp4' || fullImage?.type == 'video/quicktime')">
                <video *ngIf="(fullImage?.type =='video/mp4' || fullImage?.type == 'video/quicktime') && showVideo"
                    autoplay controls class="img-fluid bg-dark" width="420">
                    <source [src]="fullImage?.src" type="video/mp4">
                    Your browser does not support HTML video.
                </video>
            </div>
            <!-- </div> -->
            <div class="thumbs-container bottom" *ngIf="!showLoader">
                <div id="prev-btn" class="prev" (click)="scrollImageSlider('left')">
                    <i class="icon-arrow_left" style="color:white"></i>
                </div>

                <ul class="thumbs">
                    <div style="display:flex;overflow-x: auto;overflow-y: hidden;" #imageSlide>
                        <ng-container *ngFor="let slide of slidesStore">
                            <div [id]="slide.id" class="opacity-0-5"
                                [ngClass]="{'opacity-1': slide.src == fullImage.src}">
                                <!-- <img class="img-fluid rounded" [src]="slide.src" [alt]="slide.alt" [title]="slide.title" (click)="viewItem(slide)" /> -->
                                <img *ngIf="slide.type == 'image/jpeg' || slide.type == 'image/png'" class="img-fluid"
                                    [src]="slide.src" style="width:85px;height: 75px;min-width:85px;border-radius: 0px;"
                                    [alt]="slide.alt" [title]="slide.title" width="70px" (click)="viewItem(slide)" />
                                <video *ngIf="slide.type =='video/mp4' || slide.type == 'video/quicktime'"
                                    style="width:85px;height: 75px;" id="video1" width="85px" height="85px"
                                    (click)="viewItem(slide)">
                                    <source [src]="slide.src" type="video/mp4">
                                    Your browser does not support HTML video.
                                </video>
                            </div>
                        </ng-container>

                        <ng-container *ngIf="fetchPicture">
                            <div class="p-2">
                                <div class="col-md-2">
                                    <div class="form-row">
                                        <div class="col-12" style="width:70px;height: 40px;">
                                            <div class="alert-body text-center">
                                                <i class="alert-icon">
                                                    <svg class="et-spinner" width="64" height="64"
                                                        xmlns="http://www.w3.org/2000/svg">
                                                        <g fill-rule="nonzero" fill="#32AD71">
                                                            <path
                                                                d="M32 11.871c-1.755 0-3.097-1.342-3.097-3.097V3.097C28.903 1.342 30.245 0 32 0s3.097 1.342 3.097 3.097v5.677c0 1.652-1.342 3.097-3.097 3.097z" />
                                                            <path
                                                                d="M32 64c-1.755 0-3.097-1.342-3.097-3.097v-5.677c0-1.755 1.342-3.097 3.097-3.097s3.097 1.342 3.097 3.097v5.677C35.097 62.658 33.755 64 32 64z"
                                                                opacity=".4" />
                                                            <path
                                                                d="M46.452 60.077c-1.033 0-2.065-.516-2.684-1.548l-2.787-4.852c-.826-1.445-.31-3.406 1.135-4.232 1.445-.826 3.407-.31 4.232 1.136l2.787 4.851c.826 1.445.31 3.407-1.135 4.233a2.913 2.913 0 01-1.548.412z"
                                                                opacity=".5" />
                                                            <path
                                                                d="M11.871 23.432a2.913 2.913 0 01-1.548-.413L5.47 20.232C4.026 19.406 3.51 17.445 4.335 16c.826-1.445 2.788-1.961 4.233-1.135l4.851 2.787c1.446.825 1.962 2.787 1.136 4.232-.62 1.032-1.652 1.548-2.684 1.548z"
                                                                opacity=".05" />
                                                            <path
                                                                d="M57.084 49.548a2.913 2.913 0 01-1.549-.413l-4.954-2.787c-1.446-.825-1.962-2.787-1.136-4.232.826-1.445 2.787-1.961 4.232-1.135l4.852 2.787c1.445.826 1.961 2.787 1.136 4.232-.517 1.032-1.549 1.548-2.581 1.548z"
                                                                opacity=".6" />
                                                            <path
                                                                d="M8.774 35.097H3.097C1.342 35.097 0 33.755 0 32s1.342-3.097 3.097-3.097h5.677c1.755 0 3.097 1.342 3.097 3.097s-1.445 3.097-3.097 3.097z"
                                                                opacity=".1" />
                                                            <path
                                                                d="M60.903 35.097h-5.677c-1.755 0-3.097-1.342-3.097-3.097s1.342-3.097 3.097-3.097h5.677C62.658 28.903 64 30.245 64 32s-1.342 3.097-3.097 3.097z"
                                                                opacity=".7" />
                                                            <path
                                                                d="M6.916 49.548c-1.032 0-2.064-.516-2.684-1.548-.826-1.445-.31-3.406 1.136-4.232l4.851-2.787c1.446-.826 3.407-.31 4.233 1.135.825 1.445.31 3.407-1.136 4.232l-4.851 2.787c-.413.31-.93.413-1.549.413z"
                                                                opacity=".2" />
                                                            <path
                                                                d="M52.129 23.432c-1.032 0-2.064-.516-2.684-1.548-.826-1.445-.31-3.407 1.136-4.232l4.851-2.787c1.445-.826 3.407-.31 4.233 1.135.825 1.445.31 3.406-1.136 4.232l-4.852 2.787a2.913 2.913 0 01-1.548.413z"
                                                                opacity=".8" />
                                                            <path
                                                                d="M17.548 60.077A2.913 2.913 0 0116 59.665c-1.445-.826-1.961-2.788-1.135-4.233l2.787-4.851c.825-1.446 2.787-1.962 4.232-1.136 1.445.826 1.961 2.787 1.135 4.232l-2.787 4.852c-.62 1.032-1.651 1.548-2.684 1.548z"
                                                                opacity=".3" />
                                                            <path
                                                                d="M43.665 14.968a2.913 2.913 0 01-1.549-.413c-1.445-.826-1.961-2.787-1.135-4.232l2.787-4.852C44.594 4.026 46.555 3.51 48 4.335c1.445.826 1.961 2.788 1.135 4.233l-2.787 4.851c-.619.93-1.651 1.549-2.683 1.549z"
                                                                opacity=".9" />
                                                        </g>
                                                    </svg>
                                                </i>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </ng-container>
                    </div>
                </ul>

                <div id="next-btn" class="next" (click)="scrollImageSlider('right')">
                    <i class="icon-arrow_right" style="color:white"></i>
                </div>
            </div>
        </div>
        <div *ngIf="!showLoader && slidesStore.length < 1">{{"common.no_picture" | translate }}</div>
    </div>
    <div class="col-md-6">
        <div class="product-full-summary-form">
            <div class="form-field">
                <form class="needs-validation" novalidate>
                    <div class="p-2">
                        <div class="border-bottom">
                            <div class="py-3 mb-3">
                                <h4>{{ viewproduct.productName }}</h4>
                            </div>
                            <div class="form-row">
                                <div class="col-md-6 mb-3">
                                    <label for="validationCustom01">{{
                                        "auctioncreate.auctionproduct.auctionpopup.popup_formGrp1" |
                                        translate }}</label>
                                    <div class="text-success"> {{ viewproduct.productName }} </div>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="validationCustom01">{{
                                        "auctioncreate.auctionproduct.auctionpopup.popup_formGrp2" |
                                        translate }}</label>
                                    <div class="text-success"> Product count{{ viewproduct.productName | translate }}
                                    </div>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="col-md-6 mb-3">
                                    <label for="validationCustom01">{{
                                        "auctioncreate.auctionproduct.auctionpopup.popup_formGrp5" |
                                        translate }}</label>
                                    <div class="text-success"> {{ viewproduct.productValue }} </div>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="validationCustom01">{{
                                        "auctioncreate.auctionproduct.auctionpopup.popup_formGrp4" |
                                        translate }}</label>
                                    <div class="text-success"> {{ viewproduct.productSerialNumber }} </div>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="col-md-6 mb-3">
                                    <div class="form-group">
                                        <label>{{ "auctioncreate.auctionproduct.section1_formGrp2" | translate
                                            }}</label>
                                        <div class="text-success">
                                            <span>{{ viewproduct.location.deliveryDate }}</span>
                                            <ul *ngIf="viewproduct.location.deliveryTime"
                                                class="list list-primary-bullets d-inline-block">
                                                <li class="text-muted"> {{ viewproduct.location.deliveryTime }} {{
                                                    viewproduct.location.deliveryTimeSufix | translate }} </li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="validationCustom01">{{
                                        "auctioncreate.auctionproduct.auctionpopup.popup_formGrp3" |
                                        translate }}</label>
                                    <div class="text-success"> {{ viewproduct.productSKUNumber }} </div>
                                </div>
                            </div>
                        </div>
                        <div class="border-bottom py-4">
                            <div class="form-row" style="overflow-wrap: break-word;">
                                <div class="col-12 col-md-12">
                                    <div class="form-group">
                                        <label for="goverusermessage">{{
                                            "auctioncreate.auctionproduct.auctionpopup.popup_formGrp6" |
                                            translate }}</label>
                                        <div class="text-success"> {{ viewproduct.productSpec }} </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- <div class="py-5">
                            <label for="goverusermessage">{{ "auctioncreate.auctionproduct.section1_orderSum22" |
                                translate }}</label>
                            <div class="row">
                                <ng-container *ngIf="viewproduct.productFiles">
                                    <div class="col-6 col-md-6" *ngFor=" let file of viewproduct.productFiles; let index = index ">
                                        <div class="file-download mb-3 p-1 px-2">
                                            <div>
                                                <h3 class="text-truncate">{{ file.name }}</h3>
                                            </div>
                                            <div class="flex-view justify-content-end" *ngIf="activeIndex != index">
                                                
                                                <a *ngIf="!file.downloading" (click)="viewAttachment(file,index,'download')" class="btn btn-ghost btn-sm fill-primary-light-green mx-2">
                                                    <span class="icon-download"></span>
                                                </a>
                                            </div>

                                            <button *ngIf="file.downloading" type="button" class=" qq-upload-retry-selector btn btn-ghost btn-primary-light-green fill btn-lg mx-0 mx-md-2 mt-2 mt-md-0" style="height: 12px;">
                                                <span class="btn-text pr-0">
                                                    <div class="spinner-border spinner-border-light-green icon-spinner text-light"
                                                        role="status">
                                                        <span class="sr-only">Loading...</span>
                                                    </div>
                                                </span>
                                            </button>

                                        </div>
                                    </div>
                                </ng-container>
                            </div>
                        </div> -->
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<div class="m-3" [ngStyle]="{ direction: textDir }">
    <div class="mt-4">
        <label for="goverusermessage">{{ "auctioncreate.auctionproduct.section1_orderSum22" | translate }}</label>
    </div>
    <div class="">
        <div class="mt-3">
            <table id="auctionAttachment" class="table table-bordered table-striped table-expanded table-hover">
                <thead>
                    <tr class="btn-primary-light">
                        <th class="th-serials" scope="col" (click)="sortByTableHeaderId(0, 'string')"><span>{{
                                'auctioncreate.auctionproduct.auctionpopup.popup_formGrp8-taleth1' |
                                translate }}</span><span class="sort"><span class="sort-none"
                                    [ngClass]="{ 'sort-none': isSorting(0), 'sort-asc': isSortAsc(0), 'sort-desc': isSorDesc(0) }"></span></span>
                        </th>
                        <th class="" scope="col" (click)="sortByTableHeaderId(1, 'string')"><span>{{
                                'auctioncreate.auctionproduct.auctionpopup.popup_formGrp8-taleth2' |
                                translate }}</span><span class="sort"><span class="sort-none"
                                    [ngClass]="{ 'sort-none': isSorting(1), 'sort-asc': isSortAsc(1), 'sort-desc': isSorDesc(1) }"></span></span>
                        </th>
                        <th class="th-action" scope="col"></th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngIf="viewproduct.productFiles.length == 0">
                        <td colspan="10" class="p-3 bg-white">
                            <div class="alert-body text-center"><i class="alert-icon"><svg width="48" height="48"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <g fill="#CCC" fill-rule="nonzero">
                                            <path
                                                d="M46.884 15.272L24.513 8.087a1.545 1.545 0 00-1.005-.006L1.113 15.273A1.606 1.606 0 000 16.802v21.35a2.4 2.4 0 001.618 2.268l21.592 7.445a2.365 2.365 0 001.57 0l21.6-7.447A2.4 2.4 0 0048 38.153V16.802c0-.698-.451-1.316-1.116-1.53zM23.2
            9.862v10.94a.8.8 0 001.6 0V9.86l21.6 6.935V16.808h-.005L24 24.001 1.605 16.795 23.2 9.861zM1.6 38.151V18.488l21.6 6.938v20.744l-21.058-7.26a.8.8 0 01-.542-.756zm44.26.757l-21.06 7.26V25.426l21.6-6.938v19.666a.8.8 0 01-.54.756z">
                                            </path>
                                            <path d="M20.246 26.289l-14.87-4.88a1.538 1.538 0 00-1.399.231c-.404.3-.643.78-.644 1.291v13.563c0 .682.424 1.289 1.055 1.511l14.87 5.24c.478.17 1.007.091 1.42-.21.411-.3.656-.785.655-1.302V27.816a1.592
            1.592 0 00-1.087-1.527zM4.9 28.353l14.87 4.88v3.74l-14.87-4.878v-3.742zm14.87-.537v3.742l-14.87-4.879v-3.748l14.87 4.885zm-14.87 8.678v-2.72l14.87 4.88v3.079l-14.87-5.24zM44.023 21.64a1.546 1.546 0 00-1.4-.231l-14.87 4.879a1.592 1.592 0 00-1.086
            1.53v13.916c0 .517.245 1.002.657 1.302.412.3.94.378 1.418.21l14.87-5.24a1.598 1.598 0 001.055-1.51V22.932a1.62 1.62 0 00-.644-1.294zm-.922 1.293v5.565l-3.932 1.288a2.326 2.326 0 00-1.546 2.27 1.595 1.595 0 01-1.122 1.53c-.664.2-1.378-.07-1.755-.663a2.166
            2.166 0 00-2.53-.867l-3.984 1.305v-5.544l14.87-4.884zm-14.87 18.801V35.04l4.462-1.458a.645.645 0 01.738.207 3.098 3.098 0 003.519 1.327c1.33-.404 2.242-1.656 2.238-3.076a.728.728 0 01.458-.73l3.455-1.133v6.32l-14.87 5.237zM24 6.667c.368 0 .667-.373.667-.834v-5C24.667.373
            24.368 0 24 0c-.368 0-.667.373-.667.833v5c0 .46.299.834.667.834zM12.484 7.539a.786.786 0 001.073.373.85.85 0 00.359-1.118l-2.4-5a.786.786 0 00-1.073-.373.85.85 0 00-.359 1.119l2.4 4.999zM34.44 7.911c.192.1.413.116.615.046a.81.81 0 00.463-.423l2.398-4.995a.85.85
            0 00-.359-1.118.785.785 0 00-1.072.373L34.087 6.79a.864.864 0 00-.047.637c.066.21.21.385.4.484z">
                                            </path>
                                        </g>
                                    </svg></i>
                                <div class="alert-content">
                                    <h5 class="text-black-50">{{ 'common.msg-noattach' | translate }}</h5>
                                </div>
                            </div>
                        </td>
                    </tr>
                    <ng-container *ngIf="viewproduct.productFiles">
                        <tr *ngFor=" let file of viewproduct.productFiles; let index = index ">
                            <ng-container
                                *ngIf="index >= pageRangeForAttach.rangeStart && index <= pageRangeForAttach.rangeEnd">
                                <td>{{index+1}}</td>
                                <td>
                                    <div class="text-capitalize text-success"><span
                                            class="attach-icon icon-attachment mx-2"></span><span>{{file.name}}</span>
                                    </div>
                                </td>
                                <td class="text-center">
                                    <div *ngIf="activeIndex != index" class="qq-btn-group d-flex justify-content-end">
                                        <a *ngIf="!file.downloading && (file.MIMEType != 'application/pdf') && (file.MIMEType != 'application/msword') && (file.MIMEType != 'application/vnd.openxmlformats-officedocument.wordprocessingml.document')"
                                            (click)="viewAttachment(file, index, 'view')"
                                            class="btn btn-ghost btn-sm fill-primary-light-green">
                                            <span class="icon-eye-open"></span>
                                        </a>
                                        <a *ngIf="!file.downloading" (click)="viewAttachment(file, index, 'download')"
                                            class="btn btn-ghost btn-sm fill-primary-light-green mx-3">
                                            <span class="icon-download"></span>
                                        </a>

                                        <button *ngIf="file.downloading" type="button"
                                            class=" qq-upload-retry-selector btn btn-ghost btn-primary-light-green btn-lg"
                                            style="height: 100%; width: 100%;">
                                            <span class="btn-text pr-0">
                                                <div class="spinner-border spinner-border-light-green icon-spinner text-light"
                                                    role="status">
                                                    <span class="sr-only">Loading...</span>
                                                </div>
                                            </span>
                                        </button>

                                    </div>
                                </td>
                            </ng-container>
                        </tr>
                    </ng-container>
                </tbody>
            </table>

            <div *ngIf="viewproduct.productFiles.length > 4" class="mt-4 row justify-content-end">
                <div class="mb-5">
                    <nav aria-label="..." class="nav-pagination">
                        <ul class="pagination">
                            <li class="page-item clickable" disabled
                                [ngClass]="{ disabled: pageRangeForAttach.currentPage === 1 }">
                                <a (click)="navigateToPage(pageRangeForAttach.currentPage -1, 'auctionAttach')"
                                    class="page-link" aria-disabled="true">{{
                                    'auctionlist.grid-previous' | translate }}</a>
                            </li>
                            <li *ngFor="let page of pageRangeForAttach.pages" class="page-item"
                                [ngClass]="{ active: pageRangeForAttach.currentPage === page }">
                                <a (click)="navigateToPage(page, 'auctionAttach')" class="page-link"> {{
                                    page }} </a>
                            </li>
                            <li class="page-item clickable" disabled
                                [ngClass]="{ disabled: pageRangeForAttach.currentPage === pageRangeForAttach.totalPages }">
                                <a (click)="navigateToPage(pageRangeForAttach.currentPage + 1, 'auctionAttach')"
                                    class="page-link">{{ 'auctionlist.grid-next' | translate }}</a>
                            </li>
                        </ul>
                    </nav>
                </div>
            </div>
        </div>
    </div>

</div>