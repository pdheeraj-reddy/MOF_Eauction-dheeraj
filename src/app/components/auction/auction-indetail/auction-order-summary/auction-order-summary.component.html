<div class="card p-5 shadow-lg" *ngIf="showLoader">
    <div class="form-row">
        <div class="col-12">
            <table class="table">
                <td colspan="10" class="p-3 bg-white">
                    <div class="alert-body text-center">
                        <i class="alert-icon">
              <svg class="et-spinner" width="64" height="64" xmlns="http://www.w3.org/2000/svg">
                <g fill-rule="nonzero" fill="#32AD71">
                  <path
                    d="M32 11.871c-1.755 0-3.097-1.342-3.097-3.097V3.097C28.903 1.342 30.245 0 32 0s3.097 1.342 3.097 3.097v5.677c0 1.652-1.342 3.097-3.097 3.097z" />
                  <path
                    d="M32 64c-1.755 0-3.097-1.342-3.097-3.097v-5.677c0-1.755 1.342-3.097 3.097-3.097s3.097 1.342 3.097 3.097v5.677C35.097 62.658 33.755 64 32 64z"
                    opacity=".4" />
                  <path
                    d="M46.452 60.077c-1.033 0-2.065-.516-2.684-1.548l-2.787-4.852c-.826-1.445-.31-3.406 1.135-4.232 1.445-.826 3.407-.31 4.232 1.136l2.787 4.851c.826 1.445.31 3.407-1.135 4.233a2.913 2.913 0 01-1.548.412z"
                    opacity=".5" />
                  <path
                    d="M11.871 23.432a2.913 2.913 0 01-1.548-.413L5.47 20.232C4.026 19.406 3.51 17.445 4.335 16c.826-1.445 2.788-1.961 4.233-1.135l4.851 2.787c1.446.825 1.962 2.787 1.136 4.232-.62 1.032-1.652 1.548-2.684 1.548z"
                    opacity=".05" />
                  <path
                    d="M57.084 49.548a2.913 2.913 0 01-1.549-.413l-4.954-2.787c-1.446-.825-1.962-2.787-1.136-4.232.826-1.445 2.787-1.961 4.232-1.135l4.852 2.787c1.445.826 1.961 2.787 1.136 4.232-.517 1.032-1.549 1.548-2.581 1.548z"
                    opacity=".6" />
                  <path
                    d="M8.774 35.097H3.097C1.342 35.097 0 33.755 0 32s1.342-3.097 3.097-3.097h5.677c1.755 0 3.097 1.342 3.097 3.097s-1.445 3.097-3.097 3.097z"
                    opacity=".1" />
                  <path
                    d="M60.903 35.097h-5.677c-1.755 0-3.097-1.342-3.097-3.097s1.342-3.097 3.097-3.097h5.677C62.658 28.903 64 30.245 64 32s-1.342 3.097-3.097 3.097z"
                    opacity=".7" />
                  <path
                    d="M6.916 49.548c-1.032 0-2.064-.516-2.684-1.548-.826-1.445-.31-3.406 1.136-4.232l4.851-2.787c1.446-.826 3.407-.31 4.233 1.135.825 1.445.31 3.407-1.136 4.232l-4.851 2.787c-.413.31-.93.413-1.549.413z"
                    opacity=".2" />
                  <path
                    d="M52.129 23.432c-1.032 0-2.064-.516-2.684-1.548-.826-1.445-.31-3.407 1.136-4.232l4.851-2.787c1.445-.826 3.407-.31 4.233 1.135.825 1.445.31 3.406-1.136 4.232l-4.852 2.787a2.913 2.913 0 01-1.548.413z"
                    opacity=".8" />
                  <path
                    d="M17.548 60.077A2.913 2.913 0 0116 59.665c-1.445-.826-1.961-2.788-1.135-4.233l2.787-4.851c.825-1.446 2.787-1.962 4.232-1.136 1.445.826 1.961 2.787 1.135 4.232l-2.787 4.852c-.62 1.032-1.651 1.548-2.684 1.548z"
                    opacity=".3" />
                  <path
                    d="M43.665 14.968a2.913 2.913 0 01-1.549-.413c-1.445-.826-1.961-2.787-1.135-4.232l2.787-4.852C44.594 4.026 46.555 3.51 48 4.335c1.445.826 1.961 2.788 1.135 4.233l-2.787 4.851c-.619.93-1.651 1.549-2.683 1.549z"
                    opacity=".9" />
                </g>
              </svg>
            </i>
                        <div class="alert-content">
                            <h5 class="text-black-50">Loading</h5>
                        </div>
                    </div>
                </td>
            </table>
        </div>
    </div>
</div>
<div *ngIf="!showLoader" class="order-summary-form">
    <div class="row">
        <div class="col-12 col-md-12">
            <ul class="nav et-tabs et-tabs-filled nav-pills" id="pills-tab" role="tablist">
                <li class="nav-item">
                    <a class="nav-link active" id="pills-home-tab" data-toggle="pill" href="#pills-home" role="tab" aria-controls="pills-home" aria-selected="true">{{ "auctioncreate.auctiondetails.section1_Title" | translate
            }}</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" id="pills-profile-tab" data-toggle="pill" href="#pills-profile" role="tab" aria-controls="pills-profile" aria-selected="false">{{ "auctioncreate.auctionproduct.section1_Title" |
            translate }}</a>
                </li>
                <!-- <li class="nav-item"> <a class="nav-link" id="pills-contact-tab" data-toggle="pill" href="#pills-contact" role="tab" aria-controls="pills-contact" aria-selected="false">Auction Committee Members</a> </li> -->
            </ul>
            <div class="tab-content" id="pills-tabContent">
                <div class="tab-pane fade show active" id="pills-home" role="tabpanel" aria-labelledby="pills-home-tab">
                    <div class="auction-summary-form">
                        <div class="form-field">
                            <form class="needs-validation" novalidate>
                                <div class="card p-5 shadow-lg">
                                    <div class="border-bottom">
                                        <div class="py-3 mb-3">
                                            <h4> {{ "auctioncreate.auctiondetails.section2_orderSum-subHead" | translate }} </h4>
                                        </div>
                                        <div class="form-row">
                                            <div class="col-md-4 mb-3">
                                                <label for="validationCustom01">{{ "auctioncreate.auctiondetails.section2_orderSum-col1" |
                          translate }}</label>
                                                <div class="text-success"> {{ auctionItem.auctionId }} </div>
                                            </div>
                                            <div class="col-md-4 mb-3">
                                                <label for="validationCustom01">{{ "auctioncreate.auctiondetails.section1_formGrp1" | translate
                          }}</label>
                                                <div class="text-success"> {{ auctionItem.auctionType | translate }} </div>
                                            </div>
                                            <div class="col-md-4 mb-3">
                                                <label for="validationCustom01">{{ "auctioncreate.auctiondetails.section2_orderSum-col2" |
                          translate }}</label>
                                                <div class="text-success"> {{ auctionItem.auctionSubType | translate }} </div>
                                            </div>
                                        </div>
                                        <div class="form-row">
                                            <div class="col-md-4 mb-3">
                                                <label for="validationCustom01">{{ "auctioncreate.auctiondetails.section1_formGrp3" | translate
                          }}</label>
                                                <div class="text-success"> {{ auctionItem.auctionName }} </div>
                                            </div>
                                            <!-- <div class="col-md-4 mb-3">
                                                <label for="validationCustom01">Auction Title</label>
                                                <div class="text-success">{{ auctionItem.auctionName }}</div>
                                            </div> -->
                                            <div class="col-md-4 mb-3">
                                                <label for="validationCustom01">{{ "auctioncreate.auctiondetails.section1_formGrp4" | translate
                          }}</label>
                                                <div class="text-success"> {{ auctionItem.auctionProduct }} </div>
                                            </div>
                                        </div>
                                        <div class="form-row">
                                            <div class="col-md-4 mb-3">
                                                <label for="validationCustom01">{{ "auctioncreate.auctiondetails.section2_orderSum-col3" |
                          translate }}</label>
                                                <div class="text-success"> {{ auctionItem.entityNo }} </div>
                                            </div>
                                            <div class="col-md-4 mb-3">
                                                <label for="validationCustom01">{{ "auctioncreate.auctiondetails.section2_orderSum-col4" |
                          translate }}</label>
                                                <div class="text-success"> {{ auctionItem.entityName }} </div>
                                            </div>
                                            <!-- <div class="col-md-4 mb-3">
                                                <label for="validationCustom01">The period of presentation of products in the market</label>
                                                <div class="text-success">3 months</div>
                                            </div> -->
                                        </div>
                                        <div class="form-row">
                                            <div class="col-12 col-md-12">
                                                <div class="form-group">
                                                    <label for="goverusermessage">{{ "auctioncreate.auctiondetails.section1_formGrp5" | translate
                            }} </label>
                                                    <div class="text-success"> {{ auctionItem.auctionDesc }} </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="border-bottom">
                                        <div class="pt-5 pb-3">
                                            <h4> {{ "auctioncreate.auctiondetails.section1_formGrp6" | translate }} </h4>
                                        </div>
                                        <div class="form-row">
                                            <div class="col-md-4 mb-3">
                                                <div class="form-group">
                                                    <label>{{ "auctioncreate.auctiondetails.section1_formGrp7" | translate }}</label>
                                                    <div class="text-success">
                                                        <span>{{ auctionItem.auctionStartDate }}</span>
                                                        <ul *ngIf="auctionItem.auctionStartTime" class="list list-primary-bullets d-inline-block">
                                                            <li class="text-muted"> {{ auctionItem.auctionStartTime }} {{ auctionItem.auctionStartTimeSufix | translate }} </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-4 mb-3">
                                                <div class="form-group">
                                                    <label>{{ "auctioncreate.auctiondetails.section1_formGrp8" | translate }}</label>
                                                    <div class="text-success">
                                                        <span>{{ auctionItem.auctionEndDate }}</span>
                                                        <ul *ngIf="auctionItem.auctionEndTime" class="list list-primary-bullets d-inline-block">
                                                            <li class="text-muted"> {{ auctionItem.auctionEndTime }} {{ auctionItem.auctionStartTimeSufix | translate }} </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-4 mb-3">
                                                <div class="form-group">
                                                    <label>{{ "auctioncreate.auctiondetails.section1_formGrp11" | translate }}</label>
                                                    <div class="text-success"> {{ auctionItem.startAuction | translate }} </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-row">
                                            <div class="col-md-4 mb-3">
                                                <div class="form-group">
                                                    <label>{{ "auctioncreate.auctiondetails.section1_formGrp12" | translate }}</label>
                                                    <div class="text-success">
                                                        <span>{{ auctionItem.auctionAnncStartDate }}</span>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-4 mb-3">
                                                <div class="form-group">
                                                    <label>{{ "auctioncreate.auctiondetails.section1_formGrp13" | translate }}</label>
                                                    <div class="text-success">
                                                        <span>{{ auctionItem.auctionAnncEndDate }}</span>
                                                    </div>
                                                </div>
                                            </div>
                                            <!-- <div class="col-md-4 mb-3">
                                                <div class="form-group">
                                                    <label>Final guarantee percentage</label>
                                                    <div class="text-success"> not avail</div>
                                                </div>
                                            </div> -->
                                        </div>
                                    </div>
                                    <div class="border-bottom">
                                        <div class="pt-5 pb-3">
                                            <h4> {{ "auctioncreate.auctiondetails.section1_formGrp14" | translate }} </h4>
                                        </div>
                                        <div class="form-row">
                                            <div class="col-md-4 mb-3">
                                                <div class="form-group">
                                                    <label>{{ "auctioncreate.auctiondetails.section2_orderSum-col5" | translate }}</label>
                                                    <div class="text-success"> {{ auctionItem.startPrice }} </div>
                                                </div>
                                            </div>
                                            <div class="col-md-4 mb-3" *ngIf="
                          !(
                            auctionItem.auctionType === 'Public' &&
                            auctionItem.auctionSubType === 'Closed'
                          )
                        ">
                                                <div class="form-group">
                                                    <label>{{ "auctioncreate.auctiondetails.section1_formGrp16" | translate }}</label>
                                                    <div class="text-success"> {{ auctionItem.lowBidValue }} </div>
                                                </div>
                                            </div>
                                            <div class="col-md-4 mb-3">
                                                <div class="form-group">
                                                    <label>{{ "auctioncreate.auctiondetails.section2_orderSum-col6" | translate }}</label>
                                                    <div class="text-success"> {{ auctionItem.gnteePercentage }} </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-row">
                                            <div class="col-md-4 mb-3">
                                                <div class="form-group">
                                                    <label>{{ "auctioncreate.auctiondetails.section1_formGrp19" | translate }}</label>
                                                    <div class="text-success"> {{ auctionItem.commissionType | translate }} </div>
                                                </div>
                                            </div>
                                            <div class="col-md-4 mb-3">
                                                <div class="form-group">
                                                    <label>{{ "auctioncreate.auctiondetails.section2_orderSum-col7" | translate }}</label>
                                                    <div class="text-success"> {{ auctionItem.pursuitPerCommission }} </div>
                                                </div>
                                            </div>
                                            <div class="col-md-4 mb-3">
                                                <div class="form-group">
                                                    <label>{{ "auctioncreate.auctiondetails.section1_formGrp18" | translate }}</label>
                                                    <div class="text-success"> {{ auctionItem.finalGntee }} </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="">
                                        <div class="pt-5 pb-3">
                                            <h4> {{ "auctioncreate.auctiondetails.section2_orderSum-col8" | translate }} </h4>
                                        </div>
                                        <div class="row">
                                            <div class="col-4 col-md-4" *ngFor="
                          let file of auctionItem.auctionAttachement;
                          let index = index
                        ">
                                                <div class="file-download mb-3 p-1 px-2">
                                                    <div>
                                                        <h3 class="text-truncate">{{ file.name }}</h3>
                                                    </div>
                                                    <a *ngIf="activeDownloadFileIndex!=index" (click)="viewAttachment(file, index)" class="btn btn-ghost btn-sm fill-primary-light-green">
                                                        <span class="icon-eye-open"></span>
                                                    </a>
                                                    <a *ngIf="activeDownloadFileIndex!=index" (click)="viewAttachment(file, index)" class="btn btn-ghost btn-sm fill-primary-light-green">
                                                        <span class="icon-download"></span>
                                                    </a>
                                                    <button *ngIf="activeDownloadFileIndex == index" type="button" class=" qq-upload-retry-selector btn btn-ghost btn-primary-light-green fill btn-lg mx-0 mx-md-2 mt-2 mt-md-0" style="height: 12px;">
                                                        <span class="btn-text pr-0">
                                                            <div class="spinner-border spinner-border-light-green icon-spinner text-light" role="status">
                                                                <span class="sr-only">Loading...</span>
                                                            </div>
                                                        </span>
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
                <div class="tab-pane fade" id="pills-profile" role="tabpanel" aria-labelledby="pills-profile-tab">
                    <div class="product-summary-form">
                        <div class="w-50 border rounded"></div>
                        <div class="card p-5 shadow-lg">
                            <table *ngIf="auctionProducts.length > 0" id="inventoryAllocationTable" class="table table-bordered table-striped table-expanded table-hover">
                                <thead class="thead-dark">
                                    <tr>
                                        <th class="btn-primary-light cursor-pointer" scope="col" (click)="sortByTableHeaderId(0, 'string')">
                                            <span>{{ "auctioncreate.auctionproduct.section1_formGrp12-taleth1" | translate }}</span>
                                            <span class="arrow asc"><span class="icon-unfold_more"></span></span>
                                        </th>
                                        <th class="btn-primary-light cursor-pointer" scope="col" (click)="sortByTableHeaderId(1, 'number')">
                                            <span>{{ "auctioncreate.auctionproduct.section1_formGrp12-taleth2" | translate }}</span>
                                            <span class="arrow asc"><span class="icon-unfold_more"></span></span>
                                        </th>
                                        <th class="btn-primary-light cursor-pointer" scope="col " (click)="sortByTableHeaderId(2, 'number')">
                                            <span>{{ "auctioncreate.auctionproduct.section1_formGrp12-taleth3" | translate }}</span>
                                            <span class="arrow asc"><span class="icon-unfold_more"></span></span>
                                        </th>
                                        <th class="btn-primary-light cursor-pointer" scope="col" (click)="sortByTableHeaderId(3, 'string')">
                                            <span>{{ "auctioncreate.auctionproduct.section1_formGrp12-taleth4" | translate }}</span>
                                            <span class="arrow asc"><span class="icon-unfold_more"></span></span>
                                        </th>
                                        <th class="th-action" scope="col"></th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <ng-container *ngIf="auctionProducts.length > 0">
                                        <tr *ngFor="let code of auctionProducts; index as i">
                                            <ng-container *ngIf="
                          i >= pageRangeForProductAttach.rangeStart &&
                          i <= pageRangeForProductAttach.rangeEnd
                        ">
                                                <td width="170px" scope="row"> {{ code.productName }} </td>
                                                <td width="160px">{{ code.productSerialNumber }}</td>
                                                <td width="220px">{{ code.productValue }}</td>
                                                <td width="170px"> {{ code.productCondition | translate }} </td>
                                                <td>
                                                    <div class="qq-btn-group">
                                                        <button type="button" (click)="viewProduct(code)" class="btn btn-ghost btn-sm fill-primary-light-green" data-toggle="modal" data-target="#product-view-modal" aria-expanded="false">
                              <span class="icon-eye-open"></span>
                            </button>
                                                    </div>
                                                </td>
                                            </ng-container>
                                        </tr>
                                    </ng-container>
                                </tbody>
                            </table>
                            <table class="table table-bordered table-striped table-expanded table-hover">
                                <tfoot>
                                    <tr class="table-borderless">
                                        <td width="170px"></td>
                                        <td width="160px" class="font-medium color-darkgreen"> {{ totalQty }} {{ "auctioncreate.auctionproduct.section1_grid1-ft-text1" | translate }} </td>
                                        <td width="220px" class="font-medium color-darkgreen"> {{ "auctioncreate.auctionproduct.section1_grid1-ft-text2" | translate }}: {{ totalValue }} {{ "auctioncreate.auctionproduct.section1_grid1-ft-text3" | translate }} </td>
                                        <td width="170px"></td>
                                        <td class="th-action"></td>
                                    </tr>
                                </tfoot>
                            </table>
                            <div *ngIf="auctionProducts.length > 0" class="mt-4 row justify-content-end">
                                <div class="mb-5">
                                    <nav aria-label="..." class="nav-pagination">
                                        <ul class="pagination">
                                            <li class="page-item" [ngClass]="{
                          disabled: pageRangeForProductAttach.currentPage === 1
                        }">
                                                <a (click)="
                            navigateToPage(
                              pageRangeForProductAttach.currentPage - 1,
                              'productAttach'
                            )
                          " class="page-link" tabindex="-1" aria-disabled="true">{{ "auctionlist.grid-previous" |
                          translate }}</a>
                                            </li>
                                            <li *ngFor="let page of pageRangeForProductAttach.pages" class="page-item" [ngClass]="{
                          active: pageRangeForProductAttach.currentPage === page
                        }">
                                                <a (click)="navigateToPage(page, 'productAttach')" class="page-link"> {{ page }} </a>
                                            </li>
                                            <li class="page-item" [ngClass]="{
                          disabled:
                            pageRangeForProductAttach.currentPage ===
                            pageRangeForProductAttach.totalPages
                        }">
                                                <a (click)="
                            navigateToPage(
                              pageRangeForProductAttach.currentPage + 1,
                              'productAttach'
                            )
                          " class="page-link">{{ "auctionlist.grid-next" | translate }}</a>
                                            </li>
                                        </ul>
                                    </nav>
                                    <!--Pagination End-->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="pt-5">
    <div class="row no-gutters">
        <div class="col-12">
            <div class="d-flex align-items-md-center align-items-stretch flex-column flex-md-row justify-content-between">
                <div class="mb-2 mb-md-5 flex-grow-1 flex-md-grow-0">
                    <button (click)="back()" type="button" class="btn arrow-btn arrow-btn-reverse btn-outline-light btn-lg btn-block">
            <span class="btn-text">{{ "auctioncreate.auctionproduct.section1_formGrp16" | translate }}</span>
            <span class="v-divider"></span>
            <span class="icon icon-arrow-left"></span>
          </button>
                </div>
                <div class="d-flex flex-column flex-md-row mb-5" *ngIf="ViewMode != 'view'">
                    <button type="button" (click)="onSubmit()" class="btn arrow-btn btn-primary-light btn-lg mx-0">
            <span class="btn-text">{{ "auctioncreate.auctiondetails.section2_orderSum-col9" | translate }}</span>
          </button>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="modal show" *ngIf="showSuccessfulModal" [ngClass]="{ 'modal-show': showSuccessfulModal }">
    <div class="modal-dialog modal-md modal-dialog-centered" role="document">
        <div class="modal-content text-center">
            <button type="button" (click)="closeModal('success')" class="modal-close btn-close btn-sm" data-dismiss="modal" aria-label="Close">
        <span class="icon-close"></span>
      </button>
            <span class="icon-Check-shapes text-primary-light text-40 mb-4"></span>
            <div class="modal-header justify-content-center">
                <h4 class="modal-title text-24 font-regular text-center" id="exampleModalLabel"> {{ "message.success_sendrequest_title" | translate }} </h4>
            </div>
            <div class="modal-body">
                <label class="text-16 text-secondary-gray text-center" for="confirmation"> {{ "message.success_sendrequest_para"
          | translate }} </label>
            </div>
            <div class="modal-footer justify-content-center">
                <button type="button" (click)="closeModal('success')" class="btn btn-primary-light btn-md" data-dismiss="modal" aria-label="Close"> {{ "message.back_auctionRequest" | translate }} </button>
            </div>
        </div>
    </div>
</div>
