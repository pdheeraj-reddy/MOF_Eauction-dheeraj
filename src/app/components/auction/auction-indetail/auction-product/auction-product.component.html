<div class="product-form">
    <div class="py-3 mb-3">
        <h4>
            <ul class="list list-group list-group-horizontal float-left">
                <li class="m-2 text-muted">ObjectId: {{ ObjectId }}</li>
                <li class="m-2 text-muted">DraftId: {{ DraftId }}</li>
                <li class="m-2 text-primary">
                    <a class="btn btn-primary text-white input-group-text p-1" style="height: 30px" (click)="populateSome()">Fill Some</a>
                </li>
                <li class="m-2 text-primary">
                    <a class="btn btn-primary text-white input-group-text p-1" style="height: 30px" (click)="populateSomePL()">Fill Some via PL</a>
                </li>
            </ul>
            {{ 'auctioncreate.auctionproduct.section1_Title' | translate }}
        </h4>
    </div>
    <div class="form-field">
        <div class="card p-5 shadow-lg" *ngIf="showLoader">
            <div class="form-row">
                <div class="col-12">
                    <table id="inventoryAllocationTable" class="table table-bordered table-striped table-expanded table-hover">
                        <td colspan="10" class="p-3 bg-white">
                            <div class="alert-body text-center"><i class="alert-icon">
                                    <svg class="et-spinner" width="64" height="64" xmlns="http://www.w3.org/2000/svg">
                                        <g fill-rule="nonzero" fill="#32AD71">
                                            <path
                                                d="M32 11.871c-1.755 0-3.097-1.342-3.097-3.097V3.097C28.903 1.342 30.245 0 32 0s3.097 1.342 3.097 3.097v5.677c0 1.652-1.342 3.097-3.097 3.097z" />
                                            <path
                                                d="M32 64c-1.755 0-3.097-1.342-3.097-3.097v-5.677c0-1.755 1.342-3.097 3.097-3.097s3.097 1.342 3.097 3.097v5.677C35.097 62.658 33.755 64 32 64z"
                                                opacity=".4" />
                                            <path
                                                d="M46.452 60.077c-1.033 0-2.065-.516-2.684-1.548l-2.787-4.852c-.826-1.445-.31-3.406 1.135-4.232 1.445-.826 3.407-.31 4.232 1.136l2.787 4.851c.826 1.445.31 3.407-1.135 4.233a2.913 2.913 0 01-1.548.412z"
                                                opacity=".5" />
                                            <path
                                                d="M11.871 23.432a2.913 2.913 0 01-1.548-.413L5.47 20.232C4.026 19.406 3.51 17.445 4.335 16c.826-1.445 2.788-1.961 4.233-1.135l4.851 2.787c1.446.825 1.962 2.787 1.136 4.232-.62 1.032-1.652 1.548-2.684 1.548z"
                                                opacity=".05" />
                                            <path
                                                d="M57.084 49.548a2.913 2.913 0 01-1.549-.413l-4.954-2.787c-1.446-.825-1.962-2.787-1.136-4.232.826-1.445 2.787-1.961 4.232-1.135l4.852 2.787c1.445.826 1.961 2.787 1.136 4.232-.517 1.032-1.549 1.548-2.581 1.548z"
                                                opacity=".6" />
                                            <path
                                                d="M8.774 35.097H3.097C1.342 35.097 0 33.755 0 32s1.342-3.097 3.097-3.097h5.677c1.755 0 3.097 1.342 3.097 3.097s-1.445 3.097-3.097 3.097z"
                                                opacity=".1" />
                                            <path
                                                d="M60.903 35.097h-5.677c-1.755 0-3.097-1.342-3.097-3.097s1.342-3.097 3.097-3.097h5.677C62.658 28.903 64 30.245 64 32s-1.342 3.097-3.097 3.097z"
                                                opacity=".7" />
                                            <path
                                                d="M6.916 49.548c-1.032 0-2.064-.516-2.684-1.548-.826-1.445-.31-3.406 1.136-4.232l4.851-2.787c1.446-.826 3.407-.31 4.233 1.135.825 1.445.31 3.407-1.136 4.232l-4.851 2.787c-.413.31-.93.413-1.549.413z"
                                                opacity=".2" />
                                            <path
                                                d="M52.129 23.432c-1.032 0-2.064-.516-2.684-1.548-.826-1.445-.31-3.407 1.136-4.232l4.851-2.787c1.445-.826 3.407-.31 4.233 1.135.825 1.445.31 3.406-1.136 4.232l-4.852 2.787a2.913 2.913 0 01-1.548.413z"
                                                opacity=".8" />
                                            <path
                                                d="M17.548 60.077A2.913 2.913 0 0116 59.665c-1.445-.826-1.961-2.788-1.135-4.233l2.787-4.851c.825-1.446 2.787-1.962 4.232-1.136 1.445.826 1.961 2.787 1.135 4.232l-2.787 4.852c-.62 1.032-1.651 1.548-2.684 1.548z"
                                                opacity=".3" />
                                            <path
                                                d="M43.665 14.968a2.913 2.913 0 01-1.549-.413c-1.445-.826-1.961-2.787-1.135-4.232l2.787-4.852C44.594 4.026 46.555 3.51 48 4.335c1.445.826 1.961 2.788 1.135 4.233l-2.787 4.851c-.619.93-1.651 1.549-2.683 1.549z"
                                                opacity=".9" />
                                        </g>
                                    </svg>
                                </i>
                                <div class="alert-content">
                                    <h5 class="text-black-50">Loading</h5>
                                </div>
                            </div>
                        </td>
                    </table>
                </div>
            </div>
        </div>
        <form *ngIf="!showLoader" [formGroup]="productsFormGroup" [ngClass]="{'was-validated': submitted}">
            <div class="row">
                <div class="col-12">
                    <div class="et-accordion">
                        <div class="card">
                            <div class="card-header">
                                <h2 class="mb-0">
                                    <div class="col-md-12">
                                        <label for="validationCustom01">
                                            <span>{{ 'auctioncreate.auctionproduct.section1_subheading1' | translate }}
                                            </span>
                                            <span class="custom-control custom-switch float-left mx-5">
                                                <input type="checkbox" name="is_address_delivery_date_same"
                                                    formControlName="sameLocNDate" class="custom-control-input"
                                                    id="customSwitch1" (change)="setValidation($event)" checked />
                                                <label class="custom-control-label" for="customSwitch1"
                                                    *ngIf="form['sameLocNDate'].value"> {{
                                                    'auctioncreate.auctionproduct.section1_subheading1_opt1' | translate
                                                    }}</label>
                                        <label class="custom-control-label" for="customSwitch1" *ngIf="!form['sameLocNDate'].value"> {{
                                                    'auctioncreate.auctionproduct.section1_subheading1_opt2' | translate
                                                    }}</label>
                                        </span>
                                        </label>
                                    </div>
                                </h2>
                                <button class="btn btn-accordion-control" type="button" data-toggle="collapse" data-target="#localContentFirst" aria-expanded="true" aria-controls="localContentFirst">
                                    <div class="collapsed-icon">
                                        <span class="icon-arrow-down"></span>
                                    </div>
                                </button>
                            </div>
                            <div class="collapse show" id="localContentFirst" *ngIf="isSameaddress">
                                <div class="card-body">
                                    <div formGroupName="location" [ngClass]="{'was-validated': submitted}">
                                        <div class="form-row">
                                            <div class="col-md-6 mb-3">
                                                <div class="form-group">
                                                    <label>{{ 'auctioncreate.auctionproduct.section1_formGrp2' |
                                                        translate }}</label>
                                                    <input type="text" autocomplete="off" appDatePicker formControlName="deliveryDate" name="delivery-date" class="form-control calendar-control calendar-gregorian-control" placeholder="{{ 'auctioncreate.formDate-plch' | translate }}" (change)="changedatetime($event,'deliveryDate');"
                                                    />
                                                    <div *ngIf="submitted && locationForm['deliveryDate'].errors" class="invalid-feedback">
                                                        <div *ngIf="locationForm['deliveryDate'].errors['required']">{{ 'auctioncreate.auctionproduct.section1_formGrp2' | translate }} {{ 'auctioncreate.page-validerror' | translate }}</div>
                                                    </div>
                                                    <div *ngIf="isValidDeliveryDate" class="invalid-feedback d-block">{{ 'message.failure_invalid_mindate' | translate }}</div>
                                                </div>
                                            </div>
                                            <div class="col-md-6 mb-3">
                                                <div class="form-group">
                                                    <label>{{ 'auctioncreate.auctionproduct.section1_formGrp3' |
                                                        translate }}</label>
                                                    <input type="text" autocomplete="off" appTimePicker formControlName="deliveryTime" name="delivery-time" class="form-control time-control" placeholder="{{ 'auctioncreate.auctionproduct.section1_formGrp3-plch' | translate }}" (click)="changedatetime($event,'deliveryTime');"
                                                    />
                                                    <div *ngIf="submitted && locationForm['deliveryTime'].errors" class="invalid-feedback">
                                                        <div *ngIf="locationForm['deliveryTime'].errors['required']">{{ 'auctioncreate.auctionproduct.section1_formGrp3' | translate }} {{ 'auctioncreate.page-validerror' | translate }}</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-row mb-0">
                                            <div class="col-md-12">
                                                <div class="form-group mb-4 border-bottom">
                                                    <label>{{ 'auctioncreate.auctionproduct.section1_formGrp4' |
                                                        translate }}</label>
                                                    <div *ngIf="showGoogleMap">
                                                        <agm-map [latitude]="lat" [longitude]="lng" (mapClick)="onChooseLocation($event)">
                                                            <agm-marker [latitude]="lat" [longitude]="lng" *ngIf="locationChoose">
                                                            </agm-marker>
                                                        </agm-map>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-row">
                                            <div class="col-md-6 mb-3">
                                                <label for="validationCustom01">{{'auctioncreate.auctionproduct.section1_formGrp41-plch'
                                                    | translate}}</label>
                                                <input type="text" numeric name="locLatitude" formControlName="locLatitude" class="form-control" placeholder="{{'auctioncreate.auctionproduct.section1_formGrp41-plch' | translate}}" id="validationCustom01" [required]="true" />
                                                <div *ngIf="submitted && locationForm['locLatitude'].errors && locationForm['locLongitude'].errors" class="invalid-feedback">
                                                    <div *ngIf="locationForm['locLatitude'].errors['required'] && locationForm['locLongitude'].errors['required']">
                                                        {{'auctioncreate.auctionproduct.section1_formGrp41' | translate}} {{ 'auctioncreate.page-validerror' | translate }}
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-6 mb-3">
                                                <label for="validationCustom01">{{'auctioncreate.auctionproduct.section1_formGrp42-plch'
                                                    | translate}}</label>
                                                <input type="text" numeric name="locLongitude" formControlName="locLongitude" class="form-control" placeholder="{{'auctioncreate.auctionproduct.section1_formGrp42-plch' | translate}}" id="validationCustom01" [required]="true" />
                                            </div>
                                        </div>
                                        <div class="form-row">
                                            <div class="col-md-6 mb-3">
                                                <label for="validationCustom01">{{
                                                    'auctioncreate.auctionproduct.section1_formGrp5' | translate
                                                    }}</label>
                                                <input type="text" name="region" formControlName="locRegion" class="form-control" placeholder="{{ 'auctioncreate.auctionproduct.section1_formGrp5' | translate }}" id="validationCustom01" [required]="true" />
                                                <div *ngIf="submitted && locationForm['locRegion'].errors" class="invalid-feedback">
                                                    <div *ngIf="locationForm['locRegion'].errors['required']">{{ 'auctioncreate.auctionproduct.section1_formGrp5' | translate }} {{ 'auctioncreate.page-validerror' | translate }}</div>
                                                </div>
                                            </div>
                                            <div class="col-md-6 mb-3">
                                                <label for="validationCustom01">{{
                                                    'auctioncreate.auctionproduct.section1_formGrp6' | translate
                                                    }}</label>
                                                <input type="text" name="city" formControlName="locCity" class="form-control" placeholder="{{ 'auctioncreate.auctionproduct.section1_formGrp6' | translate }}" id="validationCustom01" [required]="true" />
                                                <div *ngIf="submitted && locationForm['locCity'].errors" class="invalid-feedback">
                                                    <div *ngIf="locationForm['locCity'].errors['required']">City {{ 'auctioncreate.page-validerror' | translate }}</div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-row">
                                            <div class="col-md-6 mb-3">
                                                <label for="validationCustom01">{{
                                                    'auctioncreate.auctionproduct.section1_formGrp7' | translate
                                                    }}</label>
                                                <input type="text" name="neighborhood" formControlName="locNeighborhood" class="form-control" placeholder="{{ 'auctioncreate.auctionproduct.section1_formGrp7' | translate }}" id="validationCustom01" [required]="true" />
                                                <div *ngIf="submitted && locationForm['locNeighborhood'].errors" class="invalid-feedback">
                                                    <div *ngIf="locationForm['locNeighborhood'].errors['required']">{{ 'auctioncreate.auctionproduct.section1_formGrp7' | translate }} {{ 'auctioncreate.page-validerror' | translate }}</div>
                                                </div>
                                            </div>
                                            <div class="col-md-6 mb-3">
                                                <label for="validationCustom01">{{
                                                    'auctioncreate.auctionproduct.section1_formGrp8' | translate
                                                    }}</label>
                                                <input type="text" name="street" formControlName="locStreet" class="form-control" placeholder="{{ 'auctioncreate.auctionproduct.section1_formGrp8' | translate }}" id="validationCustom01" [required]="true" />
                                                <div *ngIf="submitted && locationForm['locStreet'].errors" class="invalid-feedback">
                                                    <div *ngIf="locationForm['locStreet'].errors['required']">{{ 'auctioncreate.auctionproduct.section1_formGrp8' | translate }} {{ 'auctioncreate.page-validerror' | translate }}</div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-row pt-2">
                                            <div class="col-12 col-md-12">
                                                <div class="form-group">
                                                    <div class="border-bottom">
                                                        <label for="goverusermessage">{{
                                                            'auctioncreate.auctionproduct.section1_formGrp9' | translate
                                                            }} </label> <span class="float-left text-muted">{{
                                                            'auctioncreate.auctionproduct.section1_formGrp9-hint' |
                                                            translate }} <small>{{otherauction.value.length}}
                                                                /{{maxChars}}</small> </span>
                                                    </div>
                                                    <textarea class="form-control" name="notes" #otherauction [attr.maxlength]="maxChars" formControlName="notes" placeholder="{{ 'auctioncreate.auctionproduct.section1_formGrp9-plch' | translate }}" rows="5"></textarea>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="card shadow-lg mt-4">
                <div class="form-row">
                    <div class="col-12">
                        <div class="card-body">
                            <div class="heading-without-border pt-0 pb-0 align-items-start">
                                <h4 class="pb-3">{{ 'auctioncreate.auctionproduct.section1_formGrp10' | translate }}
                                    <div class="text-16" *ngIf="submitted && ( atLeastOneRequired || auctionProducts.errors) && !(auctionProducts['controls'].length > 0)">
                                        <div class="invalid-cust-feedback">{{ 'message.failure_atleastOne_product' | translate }} </div>
                                    </div>
                                </h4>
                                <button *ngIf="ViewMode != 'view'" type="button" class="btn btn-primary-light btn-md" (click)="addproduct()" data-toggle="modal" data-target="#exampleModal" data-dismiss="alert " aria-label="Close "> <span class="icon-add mx-2"></span>{{
                                    'auctioncreate.auctionproduct.section1_formGrp11' | translate }}</button>
                            </div>
                            <div *ngIf="auctionProducts['controls'].length > 0" class="card" [formGroup]="productsFormGroup">
                                <table formGroupName="productFormGroup" id="inventoryAllocationTable" class="table table-bordered table-striped table-expanded table-hover">
                                    <thead class="thead-dark">
                                        <tr>
                                            <th class="btn-primary-light cursor-pointer" scope="col" (click)="sortByTableHeaderId(1, 'string')">
                                                <span>{{ 'auctioncreate.auctionproduct.section1_formGrp12-taleth1' |
                                                    translate }}</span>
                                                <span class="arrow asc"><span class="icon-unfold_more"></span></span>
                                            </th>
                                            <th class="btn-primary-light cursor-pointer" scope="col" (click)="sortByTableHeaderId(2, 'string')">
                                                <span>{{ 'auctioncreate.auctionproduct.section1_formGrp12-taleth2' |
                                                    translate }}</span>
                                                <span class="arrow asc "><span class="icon-unfold_more"></span></span>
                                            </th>
                                            <th class="btn-primary-light cursor-pointer" scope="col " (click)="sortByTableHeaderId(3, 'string')">
                                                <span>{{ 'auctioncreate.auctionproduct.section1_formGrp12-taleth3' |
                                                    translate }}</span>
                                                <span class="arrow asc "><span class="icon-unfold_more"></span></span>
                                            </th>
                                            <th class="btn-primary-light cursor-pointer" scope="col" (click)="sortByTableHeaderId(4, 'string')">
                                                <span>{{ 'auctioncreate.auctionproduct.section1_formGrp12-taleth4' |
                                                    translate }}</span>
                                                <span class="arrow asc"><span class="icon-unfold_more"></span></span>
                                            </th>
                                            <th class="th-action" scope="col"></th>
                                        </tr>
                                    </thead>
                                    <tbody formArrayName="products">
                                        <ng-container *ngIf="auctionProducts['controls'].length > 0">
                                            <tr *ngFor="let code of auctionProducts.value; index as i">
                                                <ng-container *ngIf="i >= pageRangeForProductAttach.rangeStart && i <= pageRangeForProductAttach.rangeEnd">
                                                    <td width="170px" scope="row">{{code.productName}}</td>
                                                    <td width="160px">{{code.productSerialNumber}}</td>
                                                    <td width="210px">{{code.productValue}}</td>
                                                    <td width="160px">{{code.productCondition | translate }}</td>
                                                    <td>
                                                        <div class="qq-btn-group">
                                                            <button type="button" *ngIf="ViewMode != 'view'" (click)="editProduct(i)" data-toggle="modal" data-target="#exampleModal" class="qq-upload-retry-selector btn btn-ghost fill-primary-light-green " data-dismiss="alert " aria-label="Close ">
                                                                <span class="icon-edit"></span> </button>
                                                            <button type="button" *ngIf="ViewMode == 'view'" (click)="editProduct(i)" data-toggle="modal" data-target="#exampleModal" class="qq-upload-retry-selector btn btn-ghost fill-primary-light-green " data-dismiss="alert " aria-label="Close ">
                                                                <span class="icon-eye-open1"></span> </button>
                                                            <button type="button" *ngIf="ViewMode != 'view'" (click)="removeProduct(i, pageRangeForProductAttach.currentPage, code)" class="qq-upload-cancel-selector btn btn-ghost fill-primary-red " data-dismiss="alert " aria-label="Close "> <span
                                                                    class="icon-delete"></span> </button>
                                                        </div>
                                                    </td>
                                                </ng-container>
                                            </tr>
                                        </ng-container>
                                    </tbody>
                                </table>
                                <table class="table table-bordered table-striped table-expanded table-hover">
                                    <tfoot>
                                        <tr class="table-borderless">
                                            <td width="170px"></td>
                                            <td width="160px" class="font-medium color-darkgreen">{{ totalQty }} {{ 'auctioncreate.auctionproduct.section1_grid1-ft-text1' | translate }}
                                            </td>
                                            <td width="210px" class="font-medium color-darkgreen">{{ 'auctioncreate.auctionproduct.section1_grid1-ft-text2' | translate }}: {{ totalValue }} {{ 'auctioncreate.auctionproduct.section1_grid1-ft-text3' | translate }}
                                            </td>
                                            <td width="160px"></td>
                                            <td class="th-action"></td>
                                        </tr>
                                    </tfoot>
                                </table>
                            </div>
                            <div *ngIf="auctionProducts['controls'].length > 0" class="mt-4 row justify-content-end">
                                <div class="mb-5">
                                    <nav aria-label="..." class="nav-pagination">
                                        <ul class="pagination">
                                            <li class="page-item" [ngClass]="{ disabled: pageRangeForProductAttach.currentPage === 1 }">
                                                <a (click)="navigateToPage(pageRangeForProductAttach.currentPage -1, 'productAttach')" class="page-link" tabindex="-1" aria-disabled="true">{{
                                                    'auctionlist.grid-previous' | translate }}</a>
                                            </li>
                                            <li *ngFor="let page of pageRangeForProductAttach.pages" class="page-item" [ngClass]="{ active: pageRangeForProductAttach.currentPage === page }">
                                                <a (click)="navigateToPage(page, 'productAttach')" class="page-link"> {{
                                                    page }} </a>
                                            </li>
                                            <li class="page-item" [ngClass]="{ disabled: pageRangeForProductAttach.currentPage === pageRangeForProductAttach.totalPages }">
                                                <a (click)="navigateToPage(pageRangeForProductAttach.currentPage + 1, 'productAttach')" class="page-link">{{ 'auctionlist.grid-next' | translate }}</a>
                                            </li>
                                        </ul>
                                    </nav>
                                    <!--Pagination End-->
                                </div>
                            </div>
                            <div class="mt-4 row">
                                <div class="col-12" id="table">
                                    <!-- <Pagination :recordsnumber="recordsNumber" :currentpage="currentPage" :pagesize="pageSize" v-on:navigate="navigatePage($event)" v-on:select-page="selectPageSize($event)"></Pagination> -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="pt-5">
                <div class="form-row">
                    <div class="col-12">
                        <div class="d-flex align-items-md-center align-items-stretch flex-column flex-md-row justify-content-between mx-n2">
                            <div class="mb-2 mb-md-5 flex-grow-1 flex-md-grow-0">
                                <button (click)="back()" type="button" class="btn arrow-btn arrow-btn-reverse btn-outline-light btn-lg btn-block">
                                    <span class="btn-text">{{ 'auctioncreate.auctionproduct.section1_formGrp16' |
                                        translate }}</span> <span class="v-divider"></span>
                                    <span class="icon icon-arrow-left"></span>
                                </button>
                            </div>
                            <div class="d-flex flex-column flex-md-row mb-5" *ngIf="ViewMode != 'view'">
                                <!-- <button class="btn btn-danger btn-lg mx-0 mx-md-2" (click)="openConfirmCancelModal()">{{ 'auctioncreate.auctionproduct.section1_formGrp17' | translate }}</button> -->
                                <button type="button" *ngIf="!showSaveasdraftBtnLoader" (click)="onSubmit('saveasdraft')" class="btn btn-outline-primary-light btn-lg mx-0 mx-md-2 mt-2 mt-md-0"> {{
                                    'auctioncreate.auctionproduct.section1_formGrp18' | translate }} </button>
                                <button type="button" *ngIf="showSaveasdraftBtnLoader" class="btn btn-outline-primary-light btn-lg mx-0 mx-md-2 mt-2 mt-md-0">
                                    <span class="btn-text pr-3">
                                        <div class="spinner-border" role="status">
                                            <span class="sr-only">Loading...</span>
                                        </div>
                                    </span> {{ 'auctioncreate.auctionproduct.section1_formGrp18' | translate }}
                                </button>
                                <button type="button" *ngIf="!showSaveBtnLoader" (click)="onSubmit('save')" class="btn arrow-btn btn-primary-light btn-lg mx-0 ml-md-2 mt-2 mt-md-0">
                                    <span class="btn-text">{{ 'auctioncreate.auctionproduct.section1_formGrp19' |
                                        translate }}</span> <span class="v-divider"></span>
                                    <span class="icon icon-arrow-left"></span>
                                </button>
                                <button type="button" *ngIf="showSaveBtnLoader" class="btn arrow-btn btn-primary-light btn-lg mx-0 ml-md-2 mt-2 mt-md-0">
                                    <span class="btn-text pr-0">
                                        <div class="spinner-border spinner-border-light text-light" role="status">
                                            <span class="sr-only">Loading...</span>
                                        </div>
                                    </span>
                                    <span class="btn-text">{{ 'auctioncreate.auctionproduct.section1_formGrp19' |
                                        translate }}</span> <span class="v-divider"></span>
                                    <span class="icon icon-arrow-left"></span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>
<div class="modal fade" *ngIf="showProductModal" [ngClass]="{'modal-show': showProductModal}" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true" data-keyboard="false" data-backdrop="static">
    <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="exampleModalLabel">{{ 'auctioncreate.auctionproduct.auctionpopup.popup_title' | translate }}</h4>
                <button type="button" (click)="closeProductModal('close')" class="modal-close btn-close btn-sm" data-dismiss="modal" aria-label="Close">
                    <span class="icon-close"></span>
                </button>
            </div>
            <div class="modal-body">
                <div class="card p-5" *ngIf="showPopupLoader">
                    <div class="form-row">
                        <div class="col-12">
                            <table id="inventoryAllocationTable" class="table">
                                <td colspan="10" class="p-3 bg-white">
                                    <div class="alert-body text-center"><i class="alert-icon">
                                            <svg class="et-spinner" width="64" height="64"
                                                xmlns="http://www.w3.org/2000/svg">
                                                <g fill-rule="nonzero" fill="#32AD71">
                                                    <path
                                                        d="M32 11.871c-1.755 0-3.097-1.342-3.097-3.097V3.097C28.903 1.342 30.245 0 32 0s3.097 1.342 3.097 3.097v5.677c0 1.652-1.342 3.097-3.097 3.097z" />
                                                    <path
                                                        d="M32 64c-1.755 0-3.097-1.342-3.097-3.097v-5.677c0-1.755 1.342-3.097 3.097-3.097s3.097 1.342 3.097 3.097v5.677C35.097 62.658 33.755 64 32 64z"
                                                        opacity=".4" />
                                                    <path
                                                        d="M46.452 60.077c-1.033 0-2.065-.516-2.684-1.548l-2.787-4.852c-.826-1.445-.31-3.406 1.135-4.232 1.445-.826 3.407-.31 4.232 1.136l2.787 4.851c.826 1.445.31 3.407-1.135 4.233a2.913 2.913 0 01-1.548.412z"
                                                        opacity=".5" />
                                                    <path
                                                        d="M11.871 23.432a2.913 2.913 0 01-1.548-.413L5.47 20.232C4.026 19.406 3.51 17.445 4.335 16c.826-1.445 2.788-1.961 4.233-1.135l4.851 2.787c1.446.825 1.962 2.787 1.136 4.232-.62 1.032-1.652 1.548-2.684 1.548z"
                                                        opacity=".05" />
                                                    <path
                                                        d="M57.084 49.548a2.913 2.913 0 01-1.549-.413l-4.954-2.787c-1.446-.825-1.962-2.787-1.136-4.232.826-1.445 2.787-1.961 4.232-1.135l4.852 2.787c1.445.826 1.961 2.787 1.136 4.232-.517 1.032-1.549 1.548-2.581 1.548z"
                                                        opacity=".6" />
                                                    <path
                                                        d="M8.774 35.097H3.097C1.342 35.097 0 33.755 0 32s1.342-3.097 3.097-3.097h5.677c1.755 0 3.097 1.342 3.097 3.097s-1.445 3.097-3.097 3.097z"
                                                        opacity=".1" />
                                                    <path
                                                        d="M60.903 35.097h-5.677c-1.755 0-3.097-1.342-3.097-3.097s1.342-3.097 3.097-3.097h5.677C62.658 28.903 64 30.245 64 32s-1.342 3.097-3.097 3.097z"
                                                        opacity=".7" />
                                                    <path
                                                        d="M6.916 49.548c-1.032 0-2.064-.516-2.684-1.548-.826-1.445-.31-3.406 1.136-4.232l4.851-2.787c1.446-.826 3.407-.31 4.233 1.135.825 1.445.31 3.407-1.136 4.232l-4.851 2.787c-.413.31-.93.413-1.549.413z"
                                                        opacity=".2" />
                                                    <path
                                                        d="M52.129 23.432c-1.032 0-2.064-.516-2.684-1.548-.826-1.445-.31-3.407 1.136-4.232l4.851-2.787c1.445-.826 3.407-.31 4.233 1.135.825 1.445.31 3.406-1.136 4.232l-4.852 2.787a2.913 2.913 0 01-1.548.413z"
                                                        opacity=".8" />
                                                    <path
                                                        d="M17.548 60.077A2.913 2.913 0 0116 59.665c-1.445-.826-1.961-2.788-1.135-4.233l2.787-4.851c.825-1.446 2.787-1.962 4.232-1.136 1.445.826 1.961 2.787 1.135 4.232l-2.787 4.852c-.62 1.032-1.651 1.548-2.684 1.548z"
                                                        opacity=".3" />
                                                    <path
                                                        d="M43.665 14.968a2.913 2.913 0 01-1.549-.413c-1.445-.826-1.961-2.787-1.135-4.232l2.787-4.852C44.594 4.026 46.555 3.51 48 4.335c1.445.826 1.961 2.788 1.135 4.233l-2.787 4.851c-.619.93-1.651 1.549-2.683 1.549z"
                                                        opacity=".9" />
                                                </g>
                                            </svg>
                                        </i>
                                        <div class="alert-content">
                                            <h5 class="text-black-50">Loading</h5>
                                        </div>
                                    </div>
                                </td>
                            </table>
                        </div>
                    </div>
                </div>
                <form *ngIf="!showPopupLoader" class="needs-validation" [formGroup]="addFormGroup" [ngClass]="{'was-validated': onAddProductSubmitted}" novalidate>
                    <div class="">
                        <div class="form-row">
                            <div class="col-md-6 mb-3">
                                <label for="validationCustom01">{{
                                    'auctioncreate.auctionproduct.auctionpopup.popup_formGrp1' | translate }}</label>
                                <input type="hidden" formControlName="editIndex" name="editIndex" class="form-control" />
                                <input type="hidden" formControlName="productNo" name="productNo" class="form-control" />
                                <input type="text" formControlName="productName" name="productName" class="form-control" placeholder="{{ 'auctioncreate.auctionproduct.auctionpopup.popup_formGrp1-plch' | translate }}" id="validationCustom01" [required]="true" />
                                <div *ngIf="onAddProductSubmitted && addForm['productName'].errors" class="invalid-feedback">
                                    <div *ngIf="addForm['productName'].errors['required']">{{ 'auctioncreate.auctionproduct.auctionpopup.popup_formGrp1' | translate }} {{ 'auctioncreate.page-validerror' | translate }}</div>
                                </div>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="validationCustom04">{{
                                    'auctioncreate.auctionproduct.auctionpopup.popup_formGrp2' | translate }}</label>
                                <select class="form-control" formControlName="productCondition" id="validationCustom05" [required]="true" (change)="changeSelect($event, 'productCondition')">
                                    <option value="">{{'auctioncreate.auctionproduct.auctionpopup.popup_formGrp2-plch' |
                                        translate }}</option>
                                    <option *ngFor="let product of dropValCategory" [value]="product">{{product |
                                        translate }}</option>
                                </select>
                                <!-- <input type="text" formControlName="productCondition" name="productCondition" class="form-control" placeholder="{{ 'auctioncreate.auctionproduct.auctionpopup.popup_formGrp2' | translate }}" id="validationCustom01" [required]="true" /> -->
                                <div *ngIf="onAddProductSubmitted && addForm['productCondition'].errors" class="invalid-feedback">
                                    <div *ngIf="addForm['productCondition'].errors['required']">{{ 'auctioncreate.auctionproduct.auctionpopup.popup_formGrp2' | translate }} {{ 'auctioncreate.page-validerror' | translate }}</div>
                                </div>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="validationCustom01">{{
                                    'auctioncreate.auctionproduct.auctionpopup.popup_formGrp3' | translate }}</label>
                                <input type="text" class="form-control" formControlName="productSKUNumber" name="SKUnumber" placeholder="UGG-BB-PUR-06" id="validationCustom01" [required]="true" />
                                <div *ngIf="onAddProductSubmitted && addForm['productSKUNumber'].errors" class="invalid-feedback">
                                    <div *ngIf="addForm['productSKUNumber'].errors['required']">SKU number {{ 'auctioncreate.page-validerror' | translate }}</div>
                                </div>
                            </div>
                            <div class="col-md-6 mb-3">
                                <div class="form-group number-control position-relative m-0">
                                    <label>{{ 'auctioncreate.auctionproduct.auctionpopup.popup_formGrp4' | translate
                                        }}</label>
                                    <input type="text" numeric class="form-control" formControlName="productSerialNumber" placeholder="{{ 'auctioncreate.auctionproduct.auctionpopup.popup_formGrp4' | translate }}" id="validationCustom01" [required]="true" aria-label="Recipient's username"
                                        aria-describedby="basic-addon2" (change)="onChangeQuantity()" />
                                    <div class="IncDec-controls position-absolute " id="incDecControls">
                                        <button class="btn btn-sm" (click)="onQuantityChange(false)">-</button><button class="btn btn-sm" (click)="onQuantityChange(true)">+</button>
                                    </div>
                                </div>
                                <!-- <div class="form-group number-control position-relative">
                                    <label for="validationCustom01">{{ 'auctioncreate.auctionproduct.auctionpopup.popup_formGrp4' | translate }}</label>
                                    <input type="text" class="form-control" formControlName="productSerialNumber" placeholder="{{ 'auctioncreate.auctionproduct.auctionpopup.popup_formGrp4' | translate }}" id="validationCustom01" [required]="true" />

                                    <input type="text" class="form-control" placeholder="Recipient's number" aria-label="Recipient's username" aria-describedby="basic-addon2">
                                    <div class="IncDec-controls position-absolute">
                                        <button class="btn btn-sm">-</button><button class="btn btn-sm">+</button>
                                    </div>
                                </div> -->
                                <div *ngIf="onAddProductSubmitted && addForm['productSerialNumber'].errors" class="invalid-feedback">
                                    <div *ngIf="addForm['productSerialNumber'].errors['required']">{{ 'auctioncreate.auctionproduct.auctionpopup.popup_formGrp4' | translate }} {{ 'auctioncreate.page-validerror' | translate }}</div>
                                    <div *ngIf="addForm['productSerialNumber'].errors['pattern']">{{ 'auctioncreate.auctionproduct.auctionpopup.popup_formGrp4' | translate }} {{ 'auctioncreate.page-validnumericerror' | translate }}</div>
                                </div>
                                <div *ngIf="invalidQty && !addForm['productSerialNumber'].errors" class="invalid-feedback d-block">{{ 'message.failure_invalid_minnumber' | translate }}
                                </div>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label for="validationCustom01">{{
                                    'auctioncreate.auctionproduct.auctionpopup.popup_formGrp5' | translate }}</label>
                                <input type="text" numeric class="form-control" formControlName="productValue" placeholder="{{ 'auctioncreate.auctionproduct.auctionpopup.popup_formGrp5-plch' | translate }}" id="validationCustom01" [required]="true" (change)="onChangeQuantity()" />
                                <div *ngIf="onAddProductSubmitted && addForm['productValue'].errors" class="invalid-feedback">
                                    <div *ngIf="addForm['productValue'].errors['required']">{{ 'auctioncreate.auctionproduct.auctionpopup.popup_formGrp5' | translate }} {{ 'auctioncreate.page-validerror' | translate }}</div>
                                    <div *ngIf="addForm['productValue'].errors['pattern']">{{ 'message.failure_nonZero' | translate }}</div>
                                </div>
                            </div>
                        </div>
                        <div class="form-row pt-2">
                            <div class="col-12 col-md-12">
                                <div class="form-group">
                                    <div class="border-bottom"> <label for="goverusermessage">{{
                                            'auctioncreate.auctionproduct.auctionpopup.popup_formGrp6' | translate
                                            }}</label> <span class="float-left text-muted">{{
                                            'auctioncreate.auctionproduct.auctionpopup.popup_formGrp6-hint' | translate
                                            }} <small>{{specification.value.length}} /{{maxChars}}</small> </span>
                                    </div>
                                    <textarea class="form-control" formControlName="productSpec" [attr.maxlength]="maxChars" name="specification" #specification placeholder="{{ 'auctioncreate.auctionproduct.auctionpopup.popup_formGrp6-plch' | translate }}" rows="5" [required]="true"></textarea>
                                    <div *ngIf="onAddProductSubmitted && addForm['productSpec'].errors" class="invalid-feedback">
                                        <div *ngIf="addForm['productSpec'].errors['required']">{{ 'auctioncreate.auctionproduct.auctionpopup.popup_formGrp6' | translate }} {{ 'auctioncreate.page-validerror' | translate }}</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-row pt-2">
                            <div class="col-12">
                                <h4 class="pb-4 text-20">{{ 'auctioncreate.auctionproduct.auctionpopup.popup_formGrp7' | translate }}</h4>
                                <h5 class="pb-1 text-16" *ngIf="ViewMode != 'view'">{{ 'auctioncreate.auctionproduct.auctionpopup.popup_formGrp7-label' | translate }}</h5>
                            </div>
                            <div class="container">
                                <div id="fine-uploader-manual-trigger"></div>
                                <div class="row">
                                    <div class="col-12">
                                        <div *ngIf="ViewMode != 'view'" class="file-container">
                                            <!-- ===================================== Fine Uploader Thumbnails template w/ customization  ================================= -->
                                            <div class="qq-uploader-selector qq-uploader" qq-drop-area-text="Drop files here">
                                                <div class="file-uploader-zone">
                                                    <div class="buttons">
                                                        <div class="uploader-button-caption">
                                                            <input type="file" style="top: 0; left:0;" class="" accept="video/mp4,.mov,image/jpg,image/jpeg,image/png" formArrayName="productImages" multiple (change)="selectImages($event, 'productImages')" />
                                                            <span class="icon-attachment mx-2"></span>
                                                            <span>{{
                                                                'auctioncreate.auctionproduct.auctionpopup.popup_formGrp7-fleplch1'
                                                                | translate }} <span
                                                                    class="qq-upload-button-selector qq-upload-button font-bold">{{
                                                                    'auctioncreate.auctionproduct.auctionpopup.popup_formGrp7-fleplch2'
                                                                    | translate }}</span>
                                                            </span>
                                                            <p>{{ 'auctioncreate.auctionproduct.auctionpopup.popup_formGrp7-flecnd' | translate }}</p>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="oneventinvalid-feedback">
                                                    <div *ngIf="invalidImageSize">{{'message.alert_maxfilesize' | translate}}
                                                    </div>
                                                </div>
                                                <div *ngIf="onAddProductSubmitted && productImages.errors" class="invalid-feedback">
                                                    <div *ngIf="productImages.errors['required']">Upload Product Pictures
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="mt-3" *ngIf="productImages?.length">
                                            <table class="table table-bordered table-striped table-expanded table-hover">
                                                <thead>
                                                    <tr class="btn-primary-light">
                                                        <th class="th-serials" scope="col">{{ 'auctioncreate.auctionproduct.auctionpopup.popup_formGrp8-taleth1' | translate }}</th>
                                                        <th class="" scope="col">{{ 'auctioncreate.auctionproduct.auctionpopup.popup_formGrp8-taleth2' | translate }}</th>
                                                        <th class="th-action" scope="col"></th>
                                                    </tr>
                                                </thead>
                                                <tbody formArrayName="productImages">
                                                    <ng-container *ngIf="productImages.length > 0">
                                                        <tr *ngFor="let file of productImages.value;let index=index">
                                                            <ng-container *ngIf="index >= pageRangeForProductPictureAttach.rangeStart && index <= pageRangeForProductPictureAttach.rangeEnd">
                                                                <td>{{index+1}}</td>
                                                                <td>
                                                                    <div class="text-capitalize text-success"><span class="attach-icon icon-attachment mx-2"></span><span>{{file.name}}</span>
                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <div class="qq-btn-group text-center">

                                                                        <button *ngIf="activePictureIndex != index" type="button" class="qq-upload-retry-selector btn btn-ghost fill-primary-light-green" (click)="viewAttachment(file,index,'Picture')" data-dismiss="alert" aria-label="VIew" data-toggle="modal" data-target="#viewAttachmentModal">
                                                                            <img src="assets/icons/eye_open.svg" alt=""
                                                                                srcset="">
                                                                        </button>
                                                                        <button *ngIf="ViewMode != 'view' && activePictureIndex != index" type="button" (click)="removeFile(file, index, pageRangeForProductPictureAttach.currentPage)" class="qq-upload-cancel-selector btn btn-ghost fill-primary-red" data-dismiss="alert" aria-label="Delete">
                                                                            <img src="assets/icons/delete.svg" alt=""
                                                                                srcset="">
                                                                        </button>
                                                                        <button *ngIf="activePictureIndex == index" type="button" class=" qq-upload-retry-selector btn btn-ghost btn-primary-light-green fill btn-lg mx-0 mx-md-2 mt-2 mt-md-0">
                                                                          <span class="btn-text pr-0">
                                                                              <div class="spinner-border spinner-border-light-green icon-spinner text-light" role="status">
                                                                                  <span class="sr-only">Loading...</span>
                                                                              </div>
                                                                          </span>
                                                                      </button>
                                                                    </div>
                                                                </td>
                                                            </ng-container>
                                                        </tr>
                                                    </ng-container>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                                <div class="mt-4 row justify-content-end" *ngIf="productImages?.length">
                                    <div class="mb-5">
                                        <nav aria-label="..." class="nav-pagination">
                                            <ul class="pagination">
                                                <li class="page-item" [ngClass]="{ disabled: pageRangeForProductPictureAttach.currentPage === 1 }">
                                                    <a (click)="navigateToPage(pageRangeForProductPictureAttach.currentPage -1, 'productPictureAttach')" class="page-link" tabindex="-1" aria-disabled="true">{{
                                                        'auctionlist.grid-previous' | translate }}</a>
                                                </li>
                                                <li *ngFor="let page of pageRangeForProductPictureAttach.pages" class="page-item" [ngClass]="{ active: pageRangeForProductPictureAttach.currentPage === page }">
                                                    <a (click)="navigateToPage(page, 'productPictureAttach')" class="page-link"> {{ page }} </a>
                                                </li>
                                                <li class="page-item" [ngClass]="{ disabled: pageRangeForProductPictureAttach.currentPage === pageRangeForProductPictureAttach.totalPages }">
                                                    <a (click)="navigateToPage(pageRangeForProductPictureAttach.currentPage + 1, 'productPictureAttach')" class="page-link">{{ 'auctionlist.grid-next' | translate }}</a>
                                                </li>
                                            </ul>
                                        </nav>
                                        <!--Pagination End-->
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-row pt-2">
                            <div class="col-12">
                                <h4 class="pb-4 text-20">{{ 'auctioncreate.auctionproduct.auctionpopup.popup_formGrp71' | translate }}</h4>
                                <h5 class="pb-1 text-16" *ngIf="ViewMode != 'view'">{{ 'auctioncreate.auctionproduct.auctionpopup.popup_formGrp71-label' | translate }}
                                </h5>
                            </div>
                            <div class="container">
                                <div id="fine-uploader-manual-trigger"></div>
                                <div class="row">
                                    <div class="col-12">
                                        <div *ngIf="ViewMode != 'view'" class="file-container">
                                            <!-- ===================================== Fine Uploader Thumbnails template w/ customization  ================================= -->
                                            <div class="qq-uploader-selector qq-uploader" qq-drop-area-text="Drop files here">
                                                <div class="file-uploader-zone">
                                                    <div class="buttons">
                                                        <div class="uploader-button-caption">
                                                            <input type="file" style="top: 0; left: 0;" class="" accept=".docx,.doc,application/pdf" formArrayName="productFiles" multiple (change)="selectFiles($event, 'productFiles')" />
                                                            <span class="icon-attachment mx-2"></span>
                                                            <span>{{
                                                                'auctioncreate.auctionproduct.auctionpopup.popup_formGrp7-fleplch1'
                                                                | translate }} <span
                                                                    class="qq-upload-button-selector qq-upload-button font-bold">{{
                                                                    'auctioncreate.auctionproduct.auctionpopup.popup_formGrp7-fleplch2'
                                                                    | translate }}</span>
                                                            </span>
                                                            <p>{{ 'auctioncreate.auctionproduct.auctionpopup.popup_formGrp71-flecnd' | translate }}</p>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="oneventinvalid-feedback">
                                                    <div *ngIf="invalidFileSize">{{'message.alert_maxfilesize' | translate}}
                                                    </div>
                                                </div>
                                                <div *ngIf="onAddProductSubmitted && productFiles.errors" class="invalid-feedback">
                                                    <div *ngIf="productFiles.errors['required']">Upload Product Pictures
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="mt-3" *ngIf="productFiles?.length">
                                            <table class="table table-bordered table-striped table-expanded table-hover">
                                                <thead>
                                                    <tr class="btn-primary-light">
                                                        <th class="th-serials" scope="col">{{ 'auctioncreate.auctionproduct.auctionpopup.popup_formGrp8-taleth1' | translate }}</th>
                                                        <th class="" scope="col">{{ 'auctioncreate.auctionproduct.auctionpopup.popup_formGrp8-taleth2' | translate }}</th>
                                                        <th class="th-action" scope="col"></th>
                                                    </tr>
                                                </thead>
                                                <tbody formArrayName="productFiles">
                                                    <ng-container *ngIf="productFiles.length > 0">
                                                        <tr *ngFor="let doc of productFiles.value;let index=index">
                                                            <ng-container *ngIf="index >= pageRangeForProductFileAttach.rangeStart && index <= pageRangeForProductFileAttach.rangeEnd">
                                                                <td>{{index+1}}</td>
                                                                <td>
                                                                    <div class="text-capitalize text-success"><span class="attach-icon icon-attachment mx-2"></span><span>{{doc.name}}</span>
                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <div class="qq-btn- text-center">
                                                                        <button *ngIf="activeFileIndex != index" type="button" class="qq-upload-retry-selector btn btn-ghost fill-primary-light-green" (click)="viewAttachment(doc,index , 'File')" data-dismiss="alert" aria-label="VIew" data-toggle="modal" data-target="#viewAttachmentModal">
                                                                            <img src="assets/icons/eye_open.svg" alt=""
                                                                                srcset="">
                                                                        </button>
                                                                        <button *ngIf="ViewMode != 'view' && activeFileIndex != index" type="button" (click)="removeDoc(doc, index, pageRangeForProductFileAttach.currentPage)" class="qq-upload-cancel-selector btn btn-ghost fill-primary-red" data-dismiss="alert" aria-label="Delete">
                                                                            <img src="assets/icons/delete.svg" alt=""
                                                                                srcset="">
                                                                        </button>
                                                                        <button *ngIf="activeFileIndex == index" type="button" class=" qq-upload-retry-selector btn btn-ghost btn-primary-light-green fill btn-lg mx-0 mx-md-2 mt-2 mt-md-0">
                                                                          <span class="btn-text pr-0">
                                                                              <div class="spinner-border spinner-border-light-green icon-spinner text-light" role="status">
                                                                                  <span class="sr-only">Loading...</span>
                                                                              </div>
                                                                          </span>
                                                                      </button>
                                                                    </div>
                                                                </td>
                                                            </ng-container>
                                                        </tr>
                                                    </ng-container>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                                <div class="mt-4 row justify-content-end" *ngIf="productFiles?.length">
                                    <div class="mb-5">
                                        <nav aria-label="..." class="nav-pagination">
                                            <ul class="pagination">
                                                <li class="page-item" [ngClass]="{ disabled: pageRangeForProductFileAttach.currentPage === 1 }">
                                                    <a (click)="navigateToPage(pageRangeForProductFileAttach.currentPage -1, 'productFileAttach')" class="page-link" tabindex="-1" aria-disabled="true">{{
                                                        'auctionlist.grid-previous' | translate }}</a>
                                                </li>
                                                <li *ngFor="let page of pageRangeForProductFileAttach.pages" class="page-item" [ngClass]="{ active: pageRangeForProductFileAttach.currentPage === page }">
                                                    <a (click)="navigateToPage(page, 'productFileAttach')" class="page-link"> {{ page }} </a>
                                                </li>
                                                <li class="page-item" [ngClass]="{ disabled: pageRangeForProductFileAttach.currentPage === pageRangeForProductFileAttach.totalPages }">
                                                    <a (click)="navigateToPage(pageRangeForProductFileAttach.currentPage + 1, 'productFileAttach')" class="page-link">{{ 'auctionlist.grid-next' | translate }}</a>
                                                </li>
                                            </ul>
                                        </nav>
                                        <!--Pagination End-->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div formGroupName="location" class="" *ngIf="!isSameaddress">
                        <div class="card-header p-0 mx-2 mb-3">
                            <div class="row p-0 no-gutters justify-content-between">
                                <p class="text-success">{{'auctioncreate.auctionproduct.auctionpopup.popup_formGrp12' | translate}}
                                </p>
                                <button class="btn btn-accordion-control" type="button" data-toggle="collapse" data-target="#localContentPopupLocation" aria-expanded="true" aria-controls="localContentPopupLocation">
                                    <div class="collapsed-icon">
                                        <span class="icon-arrow-down"></span>
                                    </div>
                                </button>
                            </div>
                        </div>
                        <div class="collapse show" id="localContentPopupLocation">
                            <div class="form-row">
                                <div class="col-md-6 mb-3">
                                    <div class="form-group">
                                        <label>{{'auctioncreate.auctionproduct.auctionpopup.popup_formGrp10' |
                                            translate}}</label>
                                        <input type="text" autocomplete="off" appDatePicker name="delivery-date" formControlName="deliveryDate" placeholder="{{ 'auctioncreate.formDate-plch' | translate }}" class="form-control calendar-control calendar-gregorian-control" [required]="true" (change)="productchangedatetime($event,'deliveryDate');"
                                        />
                                    </div>
                                    <div *ngIf="onAddProductSubmitted && addproductlocationForm['deliveryDate'].errors" class="invalid-feedback">
                                        <div *ngIf="addproductlocationForm['deliveryDate'].errors['required']">
                                            {{'auctioncreate.auctionproduct.auctionpopup.popup_formGrp10' | translate}} {{ 'auctioncreate.page-validerror' | translate }}</div>
                                    </div>
                                    <div *ngIf="isValidPDeliveryDate" class="invalid-feedback d-block">{{ 'message.failure_invalid_mindate' | translate }}</div>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <div class="form-group">
                                        <label>{{'auctioncreate.auctionproduct.auctionpopup.popup_formGrp11' |
                                            translate}}</label>
                                        <input type="text" autocomplete="off" appTimePicker formControlName="deliveryTime" name="delivery-time" class="form-control time-control" placeholder="{{'auctioncreate.auctionproduct.auctionpopup.popup_formGrp11-plch' | translate}}" [required]="true"
                                            (change)="productchangedatetime($event,'deliveryTime');" />
                                        <div *ngIf="onAddProductSubmitted && addproductlocationForm['deliveryTime'].errors" class="invalid-feedback">
                                            <div *ngIf="addproductlocationForm['deliveryTime'].errors['required']">
                                                {{'auctioncreate.auctionproduct.auctionpopup.popup_formGrp11' | translate}} {{ 'auctioncreate.page-validerror' | translate }}</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="col-md-12 mb-4">
                                    <div class="form-group border-bottom">
                                        <label>{{'auctioncreate.auctionproduct.auctionpopup.popup_formGrp12' |
                                            translate}}</label>
                                        <div *ngIf="showGoogleMap">
                                            <agm-map [latitude]="lat" [longitude]="lng" (mapClick)="onaddProductChooseLocation($event)">
                                                <agm-marker [latitude]="lat" [longitude]="lng" *ngIf="locationChoose">
                                                </agm-marker>
                                            </agm-map>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="col-md-6 mb-3">
                                    <label for="validationCustom01">{{'auctioncreate.auctionproduct.section1_formGrp41-plch'
                                        | translate}}</label>
                                    <input type="text" numeric name="locLatitude" formControlName="locLatitude" class="form-control" placeholder="{{ 'auctioncreate.auctionproduct.section1_formGrp41-plch' | translate }}" id="validationCustom01" [required]="true" />
                                    <div *ngIf="onAddProductSubmitted && addproductlocationForm['locLatitude'].errors && addproductlocationForm['locLongitude'].errors" class="invalid-feedback">
                                        <div *ngIf="addproductlocationForm['locLatitude'].errors['required'] && addproductlocationForm['locLongitude'].errors['required']">
                                            {{ 'auctioncreate.auctionproduct.section1_formGrp41' | translate }} {{ 'auctioncreate.page-validerror' | translate }}</div>
                                    </div>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="validationCustom01">{{'auctioncreate.auctionproduct.section1_formGrp42-plch'
                                        | translate}}</label>
                                    <input type="text" numeric name="locLongitude" formControlName="locLongitude" class="form-control" placeholder="{{ 'auctioncreate.auctionproduct.section1_formGrp42-plch' | translate }}" id="validationCustom01" [required]="true" />
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="col-md-6 mb-3">
                                    <label for="validationCustom01">{{'auctioncreate.auctionproduct.auctionpopup.popup_formGrp13'
                                        | translate}}</label>
                                    <input type="text" name="region" class="form-control" formControlName="locRegion" placeholder="{{'auctioncreate.auctionproduct.auctionpopup.popup_formGrp13' | translate}}" id="validationCustom01" [required]="true" />
                                    <div *ngIf="onAddProductSubmitted && addproductlocationForm['locRegion'].errors" class="invalid-feedback">
                                        <div *ngIf="addproductlocationForm['locRegion'].errors['required']">
                                            {{'auctioncreate.auctionproduct.auctionpopup.popup_formGrp13' | translate}} {{ 'auctioncreate.page-validerror' | translate }}</div>
                                    </div>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="validationCustom01">{{'auctioncreate.auctionproduct.auctionpopup.popup_formGrp14'
                                        | translate}}</label>
                                    <input type="text" formControlName="locCity" name="city" class="form-control" placeholder="{{'auctioncreate.auctionproduct.auctionpopup.popup_formGrp14' | translate}}" id="validationCustom01" [required]="true" />
                                    <div *ngIf="onAddProductSubmitted && addproductlocationForm['locCity'].errors" class="invalid-feedback">
                                        <div *ngIf="addproductlocationForm['locCity'].errors['required']">
                                            {{'auctioncreate.auctionproduct.auctionpopup.popup_formGrp14' | translate}} {{ 'auctioncreate.page-validerror' | translate }}</div>
                                    </div>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="col-md-6 mb-3">
                                    <label for="validationCustom01">{{'auctioncreate.auctionproduct.auctionpopup.popup_formGrp15'
                                        | translate}}</label>
                                    <input type="text" formControlName="locNeighborhood" name="neighborhood" class="form-control" placeholder="{{'auctioncreate.auctionproduct.auctionpopup.popup_formGrp15' | translate}}" id="validationCustom01" [required]="true" />
                                    <div *ngIf="onAddProductSubmitted && addproductlocationForm['locNeighborhood'].errors" class="invalid-feedback">
                                        <div *ngIf="addproductlocationForm['locNeighborhood'].errors['required']">
                                            {{'auctioncreate.auctionproduct.auctionpopup.popup_formGrp15' | translate}} {{ 'auctioncreate.page-validerror' | translate }}</div>
                                    </div>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="validationCustom01">{{'auctioncreate.auctionproduct.auctionpopup.popup_formGrp16'
                                        | translate}}</label>
                                    <input type="text" name="street" class="form-control" formControlName="locStreet" placeholder="{{'auctioncreate.auctionproduct.auctionpopup.popup_formGrp16' | translate}}" id="validationCustom01" [required]="true" />
                                    <div *ngIf="onAddProductSubmitted && addproductlocationForm['locStreet'].errors" class="invalid-feedback">
                                        <div *ngIf="addproductlocationForm['locStreet'].errors['required']">
                                            {{'auctioncreate.auctionproduct.auctionpopup.popup_formGrp16' | translate}} {{ 'auctioncreate.page-validerror' | translate }}</div>
                                    </div>
                                </div>
                            </div>
                            <div class="form-row pt-2">
                                <div class="col-12 col-md-12">
                                    <div class="form-group">
                                        <div class="border-bottom"> <label for="goverusermessage">{{'auctioncreate.auctionproduct.auctionpopup.popup_formGrp17'
                                                | translate}} </label> <span class="float-left text-muted">{{'auctioncreate.auctionproduct.auctionpopup.popup_formGrp17-hint'
                                                | translate}} <small>{{notesVal.value.length}} /{{maxChars}}</small>
                                            </span> </div>
                                        <textarea class="form-control" name="notes" formControlName="notes" #notesVal [attr.maxlength]="maxChars" placeholder="{{'auctioncreate.auctionproduct.auctionpopup.popup_formGrp17-plch' | translate}} " rows="5"></textarea>
                                        <div *ngIf="onAddProductSubmitted && addproductlocationForm['notes'].errors" class="invalid-feedback">
                                            <div *ngIf="addproductlocationForm['notes'].errors['required']">
                                                {{'auctioncreate.auctionproduct.auctionpopup.popup_formGrp16' | translate}} {{ 'auctioncreate.page-validerror' | translate }}</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer justify-content-between" *ngIf="ViewMode != 'view'">
                <button type="button" (click)="closeProductModal('close')" class="btn btn-outline-light btn-right btn-md" data-dismiss="modal" aria-label="Close">
                    {{'auctioncreate.auctionproduct.auctionpopup.popup_formGrp18' | translate}} </button>
                <!-- <button type="button" class="modal-close" *ngIf="!showAddProductBtnLoader" (click)="onAddProduct('save')" data-dismiss="modal" aria-label="Close" class="btn btn-primary-light btn-md"> <span class="icon-add"></span> {{'auctioncreate.auctionproduct.auctionpopup.popup_formGrp19' | translate}} </button> -->
                <button type="button" class="btn btn-primary-light btn-md" (click)="onAddProduct('save')" data-dismiss="true" aria-label="Close">
                    <!-- <span class="btn-text pr-0" *ngIf="showAddProductBtnLoader">
                        <div class="spinner-border spinner-border-light text-light" role="status">
                            <span class="sr-only">Loading...</span>
                        </div>
                    </span>  -->
                    <span class="icon-add"></span> {{'auctioncreate.auctionproduct.auctionpopup.popup_formGrp19' |
                    translate}}
                </button>
            </div>
        </div>
    </div>
</div>
<!-- {{productsFormGroup.value | json}} -->
<!-- image attachement view -->
<div class="modal fade " *ngIf="showViewAttachmentsModal" id="viewAttachmentModal" tabindex="-1 " role="dialog " aria-labelledby="viewAttachmentModalLabel" aria-hidden="true ">
    <div class="modal-dialog modal-lg modal-dialog-centered " role="document ">
        <div class="modal-content ">
            <div class="modal-header ">
                <h4 class="modal-title " id="viewAttachmentModalLabel ">View Attachment</h4>
                <button type="button " class="modal-close btn-close btn-sm " data-dismiss="modal " aria-label="Close ">
                    <span class="icon-close "></span> </button>
            </div>
            <div class="modal-body m-0 ">
                <img *ngIf="selectedFileFormat=='image' " [src]="selectedFileURL " class="img-fluid " alt=" " srcset=" ">
                <video *ngIf="selectedFileFormat=='video' " [src]="selectedFileURL " class="img-fluid " controls></video>
            </div>
        </div>
    </div>
</div>
<!-- <div class="modal show" *ngIf="showSuccessfulModal" [ngClass]="{'modal-show': showSuccessfulModal}">
    <div class="modal-dialog modal-md modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title text-24 font-regular" id="exampleModalLabel"> Confirmation of a request for publication in the auction? </h4>
                <button type="button" (click)="closeModal('success')" class="modal-close btn-close btn-sm mt-4" data-dismiss="modal" aria-label="Close">
                    <span class="icon-close"></span>
                </button>
            </div>
            <div class="modal-body">
                <label class="text-16 text-secondary-gray" for="confirmation">Upon confirmation, the auction request will be approved and published in the online auction. </label>
            </div>
            <div class="modal-footer justify-content-end">
                <button type="button" class="btn btn-outline-light btn-md" data-dismiss="modal" aria-label="Close"> Reference </button>
                <button type="button" class="btn btn-primary-light btn-md" data-dismiss="modal" aria-label="Close"> Post confirmation </button>
            </div>
        </div>
    </div>
</div> -->
<!-- <div class="modal show" *ngIf="showSuccessfulModal" [ngClass]="{'modal-show': showSuccessfulModal}">
    <div class="modal-dialog modal-md modal-dialog-centered" role="document">
        <div class="modal-content text-center">
            <button type="button" (click)="closeModal('success')" class="modal-close btn-close btn-sm" data-dismiss="modal" aria-label="Close">
                <span class="icon-close"></span>
            </button>
            <span class="icon-Check-shapes text-primary-light text-40 mb-4"></span>
            <div class="modal-header justify-content-center">
                <h4 class="modal-title text-24 font-regular text-center" id="exampleModalLabel"> The request has been sent successfully </h4>
            </div>
            <div class="modal-body">
                <label class="text-16 text-secondary-gray text-center" for="confirmation">Your request has been submitted successfully, and you will receive an email
                To follow up on your order </label>
            </div>
            <div class="modal-footer"> <button type="button" class="btn btn-primary-light btn-md" data-dismiss="modal" aria-label="Close"> back to page </button> </div>
        </div>
    </div>
</div> -->
<!-- <p>Form Value: {{ productsFormGroup.getRawValue() | json }}</p>
<p>Form Value: {{ productsFormGroup.status }}</p> -->
<div class="modal show" *ngIf="showSuccessfulModal" [ngClass]="{'modal-show': showSuccessfulModal}">
    <div class="modal-dialog modal-md modal-dialog-centered" role="document">
        <div class="modal-content text-center">
            <button type="button" (click)="closeModal('close')" class="modal-close btn-close btn-sm" data-dismiss="modal" aria-label="Close">
                <span class="icon-close"></span>
            </button>
            <span class="icon-Check-shapes text-primary-light text-40 mb-4"></span>
            <div class="modal-header justify-content-center">
                <h4 class="modal-title text-24 font-regular text-center" id="exampleModalLabel"> {{ 'message.success_draft_title' | translate }} </h4>
            </div>
            <div class="modal-body">
                <label class="text-16 text-secondary-gray text-center" for="confirmation"> {{
                    'message.success_draft_para' | translate }} </label>
            </div>
            <div class="modal-footer justify-content-center"> <button type="button" (click)="closeModal('success')" class="btn btn-primary-light btn-md" data-dismiss="modal" aria-label="Close"> {{
                    'message.back_auctionRequest' | translate }} </button> </div>
        </div>
    </div>
</div>
<div class="modal show" *ngIf="showConfirmCancelModal" [ngClass]="{'modal-show': showConfirmCancelModal}">
    <div class="modal-dialog modal-md modal-dialog-centered" role="document">
        <div class="modal-content">
            <button type="button" (click)="closeConfirmCancelModal('close')" class="modal-close btn-close btn-sm" data-dismiss="modal" aria-label="Close">
                <span class="icon-close"></span>
            </button>
            <div class="modal-header justify-content-left">
                <h4 class="modal-title text-24 font-regular text-danger" id="exampleModalLabel"> {{ 'message.confirm_cancel_title' | translate }} </h4>
            </div>
            <div class="modal-body">
                <label class="text-16 text-secondary-gray text-center" for="confirmation"> {{
                    'message.confirm_cancel_para' | translate }} </label>
            </div>
            <div class="modal-footer justify-content-left">
                <button type="button" (click)="closeConfirmCancelModal('close')" class="btn btn-outline-light btn-md" data-dismiss="modal" aria-label="Close"> {{ 'auctioncreate.auctionproduct.section1_formGrp16' |
                    translate }} </button>
                <button type="button" (click)="closeConfirmCancelModal('success')" class="btn btn-danger btn-md" data-dismiss="modal" aria-label="Close"> {{ 'message.confirm_auctionRequest' | translate }}
                </button>
            </div>
        </div>
    </div>
</div>
<div class="modal show" *ngIf="showCancelSuccessfulModal" [ngClass]="{'modal-show': showCancelSuccessfulModal}">
    <div class="modal-dialog modal-md modal-dialog-centered" role="document">
        <div class="modal-content text-center">
            <button type="button" (click)="closeCancelSuccessfulModal('close')" class="modal-close btn-close btn-sm" data-dismiss="modal" aria-label="Close">
                <span class="icon-close"></span>
            </button>
            <span class="icon-Check-shapes text-primary-light text-40 mb-4"></span>
            <div class="modal-header justify-content-center">
                <h4 class="modal-title text-24 font-regular text-center" id="exampleModalLabel"> {{ 'message.success_cancel_title' | translate }} </h4>
            </div>
            <div class="modal-footer justify-content-center"> <button type="button" (click)="closeCancelSuccessfulModal('success')" class="btn btn-primary-light btn-md" data-dismiss="modal" aria-label="Close"> {{ 'message.back_auctionRequest' | translate }} </button>
            </div>
        </div>
    </div>
</div>
<div class="modal show" *ngIf="showAlertModal" [ngClass]="{'modal-show': showAlertModal}">
    <div class="modal-dialog modal-md modal-dialog-centered" role="document">
        <div class="modal-content text-center">
            <button type="button" (click)="closeAlertModal('close')" class="modal-close btn-close btn-sm" data-dismiss="modal" aria-label="Close">
                <span class="icon-close"></span>
            </button>
            <span class="icon-alert-warning text-danger text-40 mb-4"></span>
            <div class="modal-body text-center">
                <label class="text-16 text-secondary-gray text-danger" for="confirmation"> {{ 'message.service_na' |
                    translate }} </label>
            </div>
        </div>
    </div>
</div>
<div class="modal show" *ngIf="showDeleteSuccessfulModal" [ngClass]="{'modal-show': showDeleteSuccessfulModal}">
    <div class="modal-dialog modal-md modal-dialog-centered" role="document">
        <div class="modal-content text-center">
            <button type="button" (click)="closeDeleteSuccessfulModal('close')" class="modal-close btn-close btn-sm" data-dismiss="modal" aria-label="Close">
                <span class="icon-close"></span>
            </button>
            <span class="icon-Check-shapes text-primary-light text-40 mb-4"></span>
            <div class="modal-header justify-content-center">
                <h4 class="modal-title text-24 font-regular text-center" id="exampleModalLabel"> {{ 'message.success_attach_title' | translate }} </h4>
            </div>
            <div class="modal-footer justify-content-center"> <button type="button" (click)="closeDeleteSuccessfulModal('success')" class="btn btn-primary-light btn-md" data-dismiss="modal" aria-label="Close"> {{ 'message.back_auctionRequest' | translate }} </button>
            </div>
        </div>
    </div>
</div>